($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/vr.react-carousel",d:["vendor-babel","vendor-react-libs","@ta/media.media-carousel","lithium-platform","@ta/overlays.modal","ta-common","vendor-common","@ta/events.window-resize","@ta/vr.badging"],e:["./packages/vr/react-carousel/react-carousel.jsx"],x:{"./packages/vr/react-carousel/react-carousel.jsx":["ReactCarousel","VRPhotoDescription","VRPhotoCarouselOpener","PhotoCarousel"]},m:{"./packages/vr/react-carousel/react-carousel.jsx":function(e,t,r){"use strict";r.r(t);var a=r("@babel/runtime/helpers/esm/extends"),n=r.n(a),s=r("@babel/runtime/helpers/esm/objectWithoutProperties"),i=r.n(s),l=r("react"),o=r("@ta/media.media-carousel"),c=function e(t){var r=t.items,a=i()(t,["items"]),s=function e(t){var r=[];if(!t)return r;for(var a=0;a<t.length;a++)r.push({mediaType:"photo",description:t[a].description,jumboUrl:t[a].jumboUrl,landscape:t[a].landscape,imageSet:{medium:{width:t[a].medWidth,height:t[a].medHeight,url:t[a].medUrl}}});return r}(r);return l.createElement(l.Fragment,null,l.createElement(o.MediaCarousel,n()({},a,{items:s})))},u=r("@ta/common.i18n"),m=r.n(u),d={footerContainer:"vr-react-carousel-VRPhotoDescription__footerContainer--2M5Vp",imageDescription:"vr-react-carousel-VRPhotoDescription__imageDescription--JRbpw",imageDescriptionText:"vr-react-carousel-VRPhotoDescription__imageDescriptionText--2zDAb"};function h(e){return l.createElement("div",{className:"".concat(d.footerContainer)},l.createElement("span",{id:"vrPhotoCarouselImageNumber",className:"".concat(d.imageDescription)},m()("p13n_category_carousel_numbers",{0:e.currentIndex+1,1:e.items.length})),l.createElement("span",{id:"vrPhotoCarouselDescription",className:"".concat(d.imageDescription," ").concat(d.imageDescriptionText)},e.items[e.currentIndex].description))}var p=r("@ta/overlays.modal"),v=r("@ta/overlays.managers"),b=r("@babel/runtime/helpers/esm/classCallCheck"),f=r.n(b),T=r("@babel/runtime/helpers/esm/createClass"),C=r.n(T),x=r("@babel/runtime/helpers/esm/possibleConstructorReturn"),I=r.n(x),g=r("@babel/runtime/helpers/esm/getPrototypeOf"),_=r.n(g),E=r("@babel/runtime/helpers/esm/inherits"),P=r.n(E),y=r("@babel/runtime/helpers/esm/assertThisInitialized"),W=r.n(y),R=r("@babel/runtime/helpers/esm/defineProperty"),D=r.n(R),N=r("lodash/throttle"),k=r.n(N),S=r("lodash/debounce"),H=r.n(S),V=r("@ta/events.window-resize"),w=r.n(V),O=function(e){function t(e){var r;return f()(this,t),r=I()(this,_()(t).call(this,e)),D()(W()(W()(r)),"getThumbsTranslate",function(e){var t=r.state.thumbnailsWrapperWidth,a=0;if(r.thumbnails){if(r.thumbnails.scrollWidth<=t||t<=0)return 0;a=r.thumbnails.scrollWidth-t}return r.thumbnails?e*(a/(r.thumbnails.children.length-1)):0}),D()(W()(W()(r)),"makeTranslateInlineStyles",function(e){return{WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e}}),D()(W()(W()(r)),"thumbnails",void 0),D()(W()(W()(r)),"debounceResize",void 0),D()(W()(W()(r)),"unthrottledSlideToIndex",void 0),D()(W()(W()(r)),"thumbnailsWrapper",void 0),D()(W()(W()(r)),"slideDuration",void 0),D()(W()(W()(r)),"slideToIndex",function(e){var t=r.state,a=t.currentIndex;if(!t.isTransitioning){var n=r.props.items.length-1,s=e;e<0?s=n:e>n&&(s=0),r.setState({currentIndex:s,isTransitioning:s!==a},r.onSliding),r.props.parentHandler&&r.props.parentHandler(s)}}),D()(W()(W()(r)),"handleResize",function(){r.setThumbsTranslate(-r.getThumbsTranslate(r.state.currentIndex>0?1:0)*r.state.currentIndex),r.thumbnailsWrapper&&r.setState({thumbnailsWrapperWidth:r.thumbnailsWrapper.offsetWidth})}),D()(W()(W()(r)),"debounceResize",H()(r.handleResize,300)),D()(W()(W()(r)),"updateThumbnailTranslate",function(e){if(0===r.state.currentIndex)r.setThumbsTranslate(0);else{var t=Math.abs(e.currentIndex-r.state.currentIndex),a=r.getThumbsTranslate(t);a>0&&(e.currentIndex<r.state.currentIndex?r.setThumbsTranslate(r.state.thumbsTranslate-a):e.currentIndex>r.state.currentIndex&&r.setThumbsTranslate(r.state.thumbsTranslate+a))}}),r.state={currentIndex:e.startIndex,thumbsTranslate:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0},r.slideDuration=450,r.unthrottledSlideToIndex=r.slideToIndex,r.slideToIndex=k()(r.unthrottledSlideToIndex,r.slideDuration,{trailing:!1}),r}return P()(t,e),C()(t,[{key:"componentDidMount",value:function e(){this.debounceResize()}},{key:"componentDidUpdate",value:function e(t,r){r.thumbnailsWrapperHeight===this.state.thumbnailsWrapperHeight&&r.thumbnailsWrapperWidth===this.state.thumbnailsWrapperWidth||this.handleResize(),r.currentIndex!==this.state.currentIndex&&this.updateThumbnailTranslate(r),t.startIndex!==this.props.startIndex&&this.slideToIndex(this.props.startIndex)}},{key:"componentWillUnmount",value:function e(){this.debounceResize.cancel()}},{key:"onSliding",value:function e(){var t=this,r=this.state.isTransitioning;setTimeout(function(){r&&t.setState({isTransitioning:!r})},this.slideDuration+50)}},{key:"setThumbsTranslate",value:function e(t){this.setState({thumbsTranslate:t})}},{key:"getThumbnailStyle",value:function e(){var t=this.props.useTranslate3D?"translate3d(".concat(this.state.thumbsTranslate,"px, 0, 0)"):"translate(".concat(this.state.thumbsTranslate,"px, 0)");return this.makeTranslateInlineStyles(t)}},{key:"render",value:function e(){var t=this,r=this.state.currentIndex,a=this.getThumbnailStyle(),n=[],s=0;return this.props.items.forEach(function(e,a){n.push(l.createElement("a",{key:s,role:"button",tabIndex:a,"aria-pressed":r===a?"true":"false","aria-label":"Go to Slide ".concat(a+1),className:"".concat("vr-react-carousel-PhotoCarouselThumbnails__imageGalleryThumbnailContainer--88PGG"," ").concat(r===a?" active":""),onClick:function e(){t.slideToIndex.call(t,a)}},function e(t){return l.createElement("div",{className:"".concat("vr-react-carousel-PhotoCarouselThumbnails__imageGalleryThumbnail--2deUy")},l.createElement("img",{src:t.medUrl,alt:t.description,title:t.description,className:"".concat(t.landscape?"vr-react-carousel-PhotoCarouselThumbnails__isLandscape--2xObf":"")}))}(e))),s+=1}),l.createElement("div",{className:"".concat("vr-react-carousel-PhotoCarouselThumbnails__imageGalleryThumbnailsWrapper--3rSlP")},l.createElement("div",{className:"".concat("vr-react-carousel-PhotoCarouselThumbnails__imageGalleryThumbnails--1atQD"),ref:function e(r){t.thumbnailsWrapper=r}},l.createElement("div",{ref:function e(r){t.thumbnails=r},className:"".concat("vr-react-carousel-PhotoCarouselThumbnails__imageGalleryThumbnailsContainer--TIFZO"),style:a,"aria-label":"Thumbnail Navigation"},n)),l.createElement(w.a,{callback:this.debounceResize,throttle:50}))}}]),t}(l.Component);D()(O,"defaultProps",{items:[],startIndex:0,useTranslate3D:!0});var G=function(e){function t(e){var r;return f()(this,t),r=I()(this,_()(t).call(this,e)),D()(W()(W()(r)),"fullscreenCarouselHandler",function(e){r.setState({currentIndex:e})}),r.state={currentIndex:r.props.startIndex},r.fullscreenCarouselHandler=r.fullscreenCarouselHandler.bind(W()(W()(r))),r}return P()(t,e),C()(t,[{key:"render",value:function e(){return l.createElement("div",{className:"vr-react-carousel-VRFullscreenCarousel__fullscreenContainer--3M0vD"},l.createElement("div",{className:"vr-react-carousel-VRFullscreenCarousel__vrCarouselContainer--2xBxw"},l.createElement(c,{items:this.props.items,startIndex:this.state.currentIndex,parentHandler:this.fullscreenCarouselHandler}),l.createElement("div",{className:"vr-react-carousel-VRFullscreenCarousel__vrPhotoDescription--2uCQP"},l.createElement(h,{items:this.props.items,currentIndex:this.state.currentIndex}))),l.createElement("div",{className:"vr-react-carousel-VRFullscreenCarousel__vrThumbnailContainer--Bn6av"},l.createElement(O,{items:this.props.items,startIndex:this.state.currentIndex,parentHandler:this.fullscreenCarouselHandler})))}}]),t}(l.Component);D()(G,"defaultProps",{items:[],startIndex:0});var M={modalButton:"vr-react-carousel-VRPhotoCarouselOpener__modalButton--2Xdgp",openerContainer:"vr-react-carousel-VRPhotoCarouselOpener__openerContainer--3WdGD",modalContainer:"vr-react-carousel-VRPhotoCarouselOpener__modalContainer--q6SM4",fullscreenContainer:"vr-react-carousel-VRPhotoCarouselOpener__fullscreenContainer--3VOUL"};function z(e){return l.createElement("div",{className:"".concat(M.openerContainer)},l.createElement(v.Opener,{name:"vrPhotoCarouselModal"},function(e){return l.createElement("span",{className:"".concat(M.modalButton),onClick:e},l.createElement("span",{className:"ui_icon expand"}))}),l.createElement(p.Modal,{name:"vrPhotoCarouselModal",isFullBleed:!0},l.createElement("div",{className:"".concat(M.modalContainer)},l.createElement("div",{className:"".concat(M.fullscreenContainer)},l.createElement(G,{items:e.items,startIndex:e.startIndex})))))}var B=r("@ta/vr.badging"),U=function(e){function t(e){var r;return f()(this,t),r=I()(this,_()(t).call(this,e)),D()(W()(W()(r)),"imageGalleryHandler",function(e){e!==r.state.currentIndex&&r.setState({currentIndex:e})}),r.state={currentIndex:r.props.startIndex},r.imageGalleryHandler=r.imageGalleryHandler.bind(W()(W()(r))),r}return P()(t,e),C()(t,[{key:"render",value:function e(){var t="MOBILE"!==this.props.viewportCategory&&"TABLET"!==this.props.viewportCategory;return l.createElement("div",{className:"".concat("vr-react-carousel-PhotoCarouselExample__vrCarouselContainer--2TfQi")},l.createElement("div",{className:"".concat("vr-react-carousel-PhotoCarouselExample__vrCarousel--1fe2G")},this.props.showCertificate&&l.createElement("div",{className:"".concat("vr-react-carousel-PhotoCarouselExample__badge--1hnRQ")},this.props.isTravelersChoice?l.createElement(B.TravelersChoice,{model:this.props.travelersChoiceModel,desktop:t}):l.createElement(B.CertificateOfExcellence,{desktop:t})),l.createElement(c,{items:this.props.items,showThumbnails:this.props.showThumbnails,parentHandler:this.imageGalleryHandler}),l.createElement("div",{className:"".concat("vr-react-carousel-PhotoCarouselExample__carouselModal--1Md7X")},l.createElement(z,{items:this.props.items,startIndex:this.state.currentIndex}),l.createElement(h,{items:this.props.items,currentIndex:this.state.currentIndex}))))}}]),t}(l.Component);D()(U,"defaultProps",{items:[],showThumbnails:!1,startIndex:0,viewportCategory:"DESKTOP",showCertificate:!1,isTravelersChoice:!1}),r.d(t,"ReactCarousel",function(){return c}),r.d(t,"VRPhotoDescription",function(){return h}),r.d(t,"VRPhotoCarouselOpener",function(){return z}),r.d(t,"PhotoCarousel",function(){return U})}}});
//# sourceMappingURL=vr.react-carousel.ba20f6bf0c.js.map