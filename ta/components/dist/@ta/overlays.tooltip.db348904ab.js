($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/overlays.tooltip",d:["vendor-babel","vendor-react-libs","vendor-redux-libs","ta-platform","@ta/common.polygon","ta-common","@ta/overlays.pieces","@ta/overlays.attached-arrow-overlay"],e:["./packages/overlays/tooltip/Tooltip.jsx"],x:{"./packages/overlays/tooltip/Tooltip.jsx":["getPosition","default"]},m:{"./packages/overlays/tooltip/Tooltip.jsx":function(e,t,o){"use strict";o.r(t);var n=o("@babel/runtime/helpers/esm/objectSpread"),r=o.n(n),i=o("@babel/runtime/helpers/esm/classCallCheck"),s=o.n(i),a=o("@babel/runtime/helpers/esm/createClass"),l=o.n(a),c=o("@babel/runtime/helpers/esm/possibleConstructorReturn"),p=o.n(c),h=o("@babel/runtime/helpers/esm/getPrototypeOf"),d=o.n(h),u=o("@babel/runtime/helpers/esm/inherits"),v=o.n(u),m=o("@babel/runtime/helpers/esm/assertThisInitialized"),f=o.n(m),g=o("@babel/runtime/helpers/esm/defineProperty"),b=o.n(g),w=o("react"),y=o("react-redux"),E=o("@ta/common.state"),T=o("@ta/common.throttle"),O=o.n(T),L=o("@ta/common.polygon"),P=o("@ta/common.string"),x=o("@ta/events.parent-scroll"),k=o.n(x),S=o("@ta/overlays.pieces"),j=o("@ta/overlays.attached-arrow-overlay"),C=o.n(j);o.d(t,"getPosition",function(){return W});var W=function e(t){return t.above?"above":t.below?"below":t.leftOf?"leftOf":"rightOf"},Y=function(e){function t(e){var o;return s()(this,t),o=p()(this,d()(t).call(this,e)),b()(f()(f()(o)),"setTooltip",function(e){o.tooltip=e}),b()(f()(f()(o)),"attach",function(e,t,n){e&&(e.removeEventListener("mouseenter",o.show),e.removeEventListener("focus",o.show),e.removeEventListener("blur",o.hide),o.props.toggleOnTouch?e.removeEventListener("touchstart",o.toggle):(e.removeEventListener("touchstart",o.show),e.removeEventListener("touchend",o.hide))),t&&(o.target=t,t.addEventListener("mouseenter",o.show),t.addEventListener("focus",o.show),t.addEventListener("blur",o.hide),o.props.toggleOnTouch?t.addEventListener("touchstart",o.toggle):(t.addEventListener("touchstart",o.show),t.addEventListener("touchend",o.hide))),n(t)}),b()(f()(f()(o)),"toggle",function(){o.state.show?o.hide():o.show()}),b()(f()(f()(o)),"show",function(){o.props.setGlobalTooltip(o.tooltipId),o.setState({show:!0}),o.props.onShow&&o.props.onShow()}),b()(f()(f()(o)),"hide",function(){o.setState({show:!1})}),b()(f()(f()(o)),"showOrHide",O()(function(e){if(!o.target||!o.target.getBoundingClientRect)return!1;if(o.matchesTarget(e))return o.state.show||o.show(),!0;var t=f()(f()(o)).tooltip;if(!t||!t.getBoundingClientRect)return!1;var n=Object(L.makePoly)(o.target,t);return Object(L.insidePoly)([e.clientX,e.clientY],n)||o.hide(),!1},250)),b()(f()(f()(o)),"matchesTarget",function(e){return o.target.contains(document.elementFromPoint(e.clientX,e.clientY))}),b()(f()(f()(o)),"target",void 0),b()(f()(f()(o)),"tooltip",void 0),b()(f()(f()(o)),"tooltipId",void 0),o.state={show:!1,position:W(e)},o.tooltipId=Object(P.uuid)(),o}return v()(t,e),l()(t,[{key:"componentDidMount",value:function e(){window.addEventListener("mousemove",this.showOrHide)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("mousemove",this.showOrHide)}},{key:"render",value:function e(){var t=this,o=this.props.maxWidth?{maxWidth:"".concat(this.props.maxWidth,"px")}:{},n=w.createElement(S.Target,null,function(e,n){return w.createElement(w.Fragment,null,t.props.children(function(o){return t.attach(n,o,e)}),n&&t.state.show&&t.props.globallyShownTooltip===t.tooltipId&&w.createElement(C.a,{position:t.state.position,target:n,alignEdge:t.props.alignEdge,small:!0,inverted:t.props.inverted,shiftX:t.props.shiftX,shiftY:t.props.shiftY,shiftArrow:t.props.shiftArrow,overlayType:"tooltip"},w.createElement("div",{className:"".concat("overlays-tooltip-Tooltip__tooltip--1Ywvn").concat(t.props.inverted?" ".concat("overlays-tooltip-Tooltip__inverted--CfTFx"):""),ref:t.setTooltip,style:o},t.props.message)))});return this.props.hideOnParentScroll?w.createElement(k.a,{callback:this.hide,disableListeners:!this.state.show},function(e){return w.createElement("span",{ref:e}," ",n)}):n}}]),t}(w.Component);b()(Y,"defaultProps",{above:void 0,below:void 0,rightOf:void 0,leftOf:void 0,alignEdge:void 0,shiftX:0,shiftY:0,shiftArrow:0,inverted:!1,toggleOnTouch:!1,hideOnParentScroll:!1}),t.default=Object(y.connect)(function(e,t){return r()({},t,{globallyShownTooltip:e.overlays.tooltip})},{setGlobalTooltip:E.actions.overlays.showTooltip})(Y)}}});
//# sourceMappingURL=overlays.tooltip.db348904ab.js.map