($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/overlays.pieces",d:["vendor-react-libs","lithium-platform","vendor-babel","@ta/lithium.portals","ta-platform"],e:["./packages/overlays/pieces/pieces.jsx"],x:{"./packages/overlays/pieces/pieces.jsx":["CloseX","ShadowBox","Overlay","Target","Backdrop","CalendarBackdrop","BlockScroll","Transition","Arrow","ArrowSize","SmallArrowSize"]},m:{"./packages/overlays/pieces/pieces.jsx":function(e,t,o){"use strict";o.r(t);var n=o("react"),r=o.n(n),i=o("@ta/common.classnames"),s=o.n(i),a=function e(t){switch(t){case"TA_GRAY_3":return"PD6NyXbj";case"SEAT_GURU_BLUE":return"_1_6oWxHm";case"WHITE":return"EEJrZdtI";case"TA_GREEN_DARK":return"_1922QVR1";case"TA_GREEN":default:return""}},c=function e(t){return n.createElement("div",{className:s()("_2sq8m4qi",a(t.colorVariant)),onClick:t.close,"data-test-attribute":t.testAttribute})};c.defaultProps={colorVariant:"TA_GREEN",testAttribute:null};var l=c,u=function e(t){var o=t.inverted,r=t.children;return n.createElement("div",{className:"".concat("zGG8H0c4").concat(o?" ".concat("_15V4pxhy"):"")},r)};u.defaultProps={inverted:!1};var d=u,p=o("@babel/runtime/helpers/esm/classCallCheck"),f=o.n(p),m=o("@babel/runtime/helpers/esm/createClass"),h=o.n(m),v=o("@babel/runtime/helpers/esm/possibleConstructorReturn"),y=o.n(v),T=o("@babel/runtime/helpers/esm/getPrototypeOf"),b=o.n(T),g=o("@babel/runtime/helpers/esm/inherits"),E=o.n(g),w=o("@babel/runtime/helpers/esm/assertThisInitialized"),k=o.n(w),x=o("@babel/runtime/helpers/esm/defineProperty"),S=o.n(x),_=o("@ta/lithium.portals"),A=function e(t){return!!function e(t){if(!t||t.getAttribute("data-skip-focus")||t.disabled)return!1;if(t.tabIndex>0||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;switch(t.nodeName){case"A":return t.href&&"ignore"!==t.rel;case"INPUT":return"hidden"!==t.type&&"file"!==t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}(t)&&(t.focus(),document.activeElement===t)},C=function e(t){if(!t)return!1;for(var o=0;o<t.children.length;o++){var n=t.children[o];if(A(n)||e(n))return!0}return!1},P=function e(t){if(!t)return!1;for(var o=t.children.length-1;o>=0;o--){var n=t.children[o];if(A(n)||e(n))return!0}return!1},N=function(e){function t(){var e,o;f()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=y()(this,(e=b()(t)).call.apply(e,[this].concat(i))),S()(k()(k()(o)),"focusFirstDescendant",function(){o.overlayNode.current&&C(o.overlayNode.current)}),S()(k()(k()(o)),"focusLastDescendant",function(){o.overlayNode.current&&P(o.overlayNode.current)}),S()(k()(k()(o)),"overlayNode",n.createRef()),S()(k()(k()(o)),"focusTrap1",n.createRef()),S()(k()(k()(o)),"focusTrap2",n.createRef()),o}return E()(t,e),h()(t,[{key:"componentDidMount",value:function e(){"modal"===this.props.overlayType&&this.addFocusTrapListeners()}},{key:"componentDidUpdate",value:function e(t){"modal"!==t.overlayType&&"modal"===this.props.overlayType?this.addFocusTrapListeners():"modal"===t.overlayType&&"modal"!==this.props.overlayType&&this.removeFocusTrapListeners()}},{key:"componentWillUnmount",value:function e(){this.removeFocusTrapListeners()}},{key:"getStyles",value:function e(){var t=this,o={};if(o.perspective=this.props.perspective,this.props.transitionProperties){var n=[];this.props.transitionProperties.forEach(function(e){var t=e.timingFunction?" ".concat(e.timingFunction):"",o=e.delay?" ".concat(e.delay,"ms"):"";n.push("".concat(e.property," ").concat(e.timing,"ms").concat(t).concat(o))}),n.length>0&&(o.transition=n.join(", "))}var r=[];return o.position=this.props.position.position||"absolute",["top","left","bottom","right"].forEach(function(e){var n=t.props.position[e];o[e]=n||"auto"}),this.props.position.zIndex&&(o.zIndex=this.props.position.zIndex),this.props.position.transformOrigin&&(o.transformOrigin=this.props.position.transformOrigin),this.props.position.transform&&r.push(this.props.position.transform),o.transform=r.join(" "),this.props.position.maxHeight&&(o.maxHeight=this.props.position.maxHeight,o.overflowY="hidden"),this.props.position.height&&(o.height=this.props.position.height),this.props.position.width&&(o.width=this.props.position.width),void 0!==this.props.opacity&&(o.opacity=this.props.opacity),o}},{key:"addFocusTrapListeners",value:function e(){this.focusTrap1.current&&this.focusTrap1.current.focus(),this.focusTrap1.current&&this.focusTrap1.current.addEventListener("focus",this.focusLastDescendant),this.focusTrap2.current&&this.focusTrap2.current.addEventListener("focus",this.focusFirstDescendant)}},{key:"removeFocusTrapListeners",value:function e(){this.focusTrap1.current&&this.focusTrap1.current.removeEventListener("focus",this.focusLastDescendant),this.focusTrap2.current&&this.focusTrap2.current.removeEventListener("focus",this.focusFirstDescendant)}},{key:"render",value:function e(){var t,o=s()("_1HphCM4i",(t={},S()(t,"WBhK2hH0","background"===this.props.overlayType),S()(t,"_1QF7P5TQ","tooltip"===this.props.overlayType),S()(t,"_2z_Bckkh","popover"===this.props.overlayType),t)),r=this.getStyles(),i=this.props.autoFocus?n.createElement(n.Fragment,null,n.createElement("div",{tabIndex:0,ref:this.focusTrap1,"data-skip-focus":!0}),this.props.children,n.createElement("div",{tabIndex:0,ref:this.focusTrap2,"data-skip-focus":!0})):this.props.children;return n.createElement(_.OverlayPortal,{style:r,className:o,ref:this.overlayNode},i)}}]),t}(n.Component);S()(N,"defaultProps",{perspective:void 0,overlayType:"modal"});var F=N,L=function(e){function t(){var e,o;f()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return o=y()(this,(e=b()(t)).call.apply(e,[this].concat(r))),S()(k()(k()(o)),"state",{target:null}),S()(k()(k()(o)),"setTarget",function(e){o.renderTimeTarget=e}),S()(k()(k()(o)),"renderTimeTarget",null),o}return E()(t,e),h()(t,[{key:"componentDidMount",value:function e(){this.setState({target:this.renderTimeTarget})}},{key:"render",value:function e(){return this.props.children(this.setTarget,this.state.target)}}]),t}(n.Component),B=function e(t){var o=t.children,r=t.close;return n.createElement(n.Fragment,null,n.createElement(_.OverlayPortal,{className:"_3m9nf6X_",onClick:r}),o)},H=o("@babel/runtime/helpers/esm/slicedToArray"),R=o.n(H),D=o("@ta/events.window-scroll"),I=o.n(D),O=function e(t){var o=Object(n.useState)(!0),i=R()(o,2),s=i[0],a=i[1],c=t.offsetTop?"absolute":"fixed";return r.a.createElement(F,{position:{position:c,top:"".concat(t.offsetTop||0,"px"),right:"0px",bottom:"0px",left:"0px",zIndex:"10"}},r.a.createElement("div",{className:s?"_3EpBZnPD":"_2QGwpPam",onClick:function e(o){o.currentTarget===o.target&&t.close()}},t.children,r.a.createElement(I.a,{callback:function e(){a(!1)},throttle:10})))};O.defaultProps={offsetTop:0};var z=O,U=o("@ta/lithium.context"),Y={instanceCount:0,scrollY:null,elementStyles:{documentHeight:null},documentStyles:{scrollY:null,position:null,top:null,width:null,documentHeight:null,overflow:null}},j=function e(t){return function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o="SAFARI"===n.useContext(U.Device).browser.family,r=n.useCallback(function(){var e,t;if(document&&document.body&&document.body.style&&document.documentElement&&(null===(e=document)||void 0===e?void 0:null===(t=e.documentElement)||void 0===t?void 0:t.style)){var o=document.body.style,n=document.documentElement.style,r=document.body.classList,i=Y.scrollY;o.position="fixed",i&&(o.top="".concat(-1*i,"px")),o.width="100%",n.height="100vh",r.contains("overlayiOS11bug")||r.add("overlayiOS11bug")}},[]),i=Array.isArray(t)?t:[t,void 0],s=R()(i,2),a=s[0],c=s[1],l=n.useCallback(function(){if(!(document&&document.body&&document.body.style))return function(){};if(document.body.style.overflow="hidden",o)if("boolean"!=typeof a)var e=setTimeout(function(){return r(),c&&c(),function(){clearTimeout(e)}},a);else"false"!==a&&r();return function(){}},[o,r,c,a]);n.useEffect(function(){Y.instanceCount++;var e=function e(){};return 1===Y.instanceCount&&(function e(t){var o,n;if(document&&document.body&&document.body.style&&document.documentElement&&(null===(o=document)||void 0===o?void 0:null===(n=o.documentElement)||void 0===n?void 0:n.style)){var r=document.body.style,i=document.documentElement.style;t&&(Y.scrollY=window.scrollY,Y.documentStyles.position=r.position,Y.documentStyles.top=r.top,Y.documentStyles.width=r.width,Y.elementStyles.documentHeight=i.height),Y.documentStyles.overflow=r.overflow}}(o),e=l()),function(){e(),Y.instanceCount--,0===Y.instanceCount&&function e(){var t,o;if(document&&document.body&&document.body.style&&document.documentElement&&(null===(t=document)||void 0===t?void 0:null===(o=t.documentElement)||void 0===o?void 0:o.style)){var n=document.body.style,r=document.documentElement.style,i=Y.documentStyles,s=Y.elementStyles,a=Y.scrollY;i.position?n.position=i.position:n.removeProperty("position"),null!=i.top?n.top=i.top:n.removeProperty("top"),i.width?n.width=i.width:n.removeProperty("width"),i.overflow?n.overflow=i.overflow:n.removeProperty("overflow"),s.documentHeight||""===s.documentHeight?r.height=s.documentHeight:r.removeProperty("height"),null!==a&&window.scrollTo(0,a)}}()}},[l,o])}(function e(t){var o=t.deferBugFix,n=t.callback,r=t.iOS11BugFix;return!1!==r&&(void 0!==o?n?[o,n]:o:r)}(t)),null},G=n.createContext("entered"),W={arrow:"_2fhqm04s",inverted:"_3LDrfwn9",small:"_3QRvHnro",top:"_1UHNlqcC",bottom:"_2pFXT7cS",left:"_12MakRw9",right:"_2B3lpUPL"},X=function e(t){var o,r=t.on,i=t.from,s=t.offset,a=t.small,c=t.inverted,l="center"===i?(o={},S()(o,"top"===r||"bottom"===r?"left":"top","50%"),S()(o,"transform","top"===r||"bottom"===r?"translate(-50%)":"translateY(-50%)"),o):S()({},i,"".concat(s,"px")),u=[W.arrow,W[r],a?W.small:null,c?W.inverted:null].filter(function(e){return e}).join(" ");return n.createElement("div",{className:u,style:l})};X.defaultProps={from:"center",offset:0,small:!1,inverted:!1};var Q=X;o.d(t,"CloseX",function(){return l}),o.d(t,"ShadowBox",function(){return d}),o.d(t,"Overlay",function(){return F}),o.d(t,"Target",function(){return L}),o.d(t,"Backdrop",function(){return B}),o.d(t,"CalendarBackdrop",function(){return z}),o.d(t,"BlockScroll",function(){return j}),o.d(t,"Transition",function(){return G}),o.d(t,"Arrow",function(){return Q}),o.d(t,"ArrowSize",function(){return 12}),o.d(t,"SmallArrowSize",function(){return 7})}}});
//# sourceMappingURL=overlays.pieces.adbdd1d04b.js.map