($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/common.webview",d:["vendor-react-libs","ta-common","@ta/overlays.popover"],e:["./packages/common/webview/webview.jsx"],x:{"./packages/common/webview/NativeBridge.jsx":["isActionSupported","postToBridge","hideSkeleton","onNewOrUpdatedScreen","showNativeOverflowMenu","showNativeMap","showNativeCreateTrip","showNativeShareTrip","showSavesModal","showRegistration","close","startScreenTransition","onOverlayStateChange","onHeaderHeightChange","onShrinkMap","onNavigateToTripDetail","onHandleTripCollaboration","onFlushBatchTracking","isNativeWebview","getHeaderHeight","onTripsRefetch","onTripUpdate","onTripItemDelete","onRefetchTripsWithItems"],"./packages/common/webview/webview.jsx":["NativeOverflowUI","NativeBridge"]},m:{"./packages/common/webview/NativeBridge.jsx":function(e,n,t){"use strict";function i(e){var n="";if(null!=e.tapCallback){var t=e.tapCallback,i="nativeInterop"+function o(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()}();window[i]=function(){null!=t&&t()},n=i,e.tapFunction=n,e.tapCallback=null}}function o(){return"undefined"!=typeof window&&window.taBridgeContext?(window.bridge||function e(){var e,n,t;window.bridge||(window.bridge=(e=[],n=0,t=[],document.addEventListener("PacificDidReceiveNativeCallback",function(n){if(n.detail){var t=n.detail,i=isNaN(parseInt(t.id))?-1:parseInt(t.id);-1!=i&&(e[i]&&e[i](t.parameters,t.error),delete e[i])}},!1),document.addEventListener("PacificDidReceiveNativeBroadcast",function(e){if(e.detail){var n=e.detail,i=n.name;if(void 0!==i&&t[i]){var o=t[i];if(o instanceof Array){var r=n.parameters;o.forEach(function(e){e(r)})}}}},!1),{post:function t(i,o,r,a,c){var u=n++;e[u]=a,window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.pacific?window.webkit.messageHandlers.pacific.postMessage({action:i,parameters:o,uid:r,callback:u,print:c||0}):window.pacific&&window.pacific.postMessage(JSON.stringify({action:i,parameters:o,uid:r,callback:u,print:c||0}))},on:function e(n,i){var o=t[n];return o||(t[n]=o=[]),o.push(i),function(){o[indexOf(o,i)]=null}},off:function e(n){delete t[n]}}))}(),window.taBridgeContext.uid):null}function r(e,n){if("undefined"==typeof window||!window.taBridgeContext||!window.taBridgeContext.actions)return!1;var t=window.taBridgeContext.actions[e];return!(!t||!t.v)&&n===t.v}function a(e,n,t){o()&&(e?window.bridge.on(n,t):window.bridge.off(n))}function c(e){e.items.forEach(function(e,n){i(e)})}function u(e,n,t){var i=o();return!(!i||!r(e,n)||(window.bridge.post(e,t||{},i),0))}function d(){u("hideSkeleton",1,null)}function s(e){!function n(e){null!=e.trailingMenuItems&&e.trailingMenuItems.forEach(function(e,n){var t=e;i(t),null!=t.nestedMenu&&c(t.nestedMenu)})}(e.navigation),u("onNewOrUpdatedScreen",1,e)}function f(e){c(e),u("overflowMenu",1,e)}function l(){r("map",2)?u("map",2,null):u("map",1,null)}function w(e){u("createTrip",1,{isPublic:e})}function v(e){u("shareTrip",1,e)}t.r(n),t.d(n,"isActionSupported",function(){return r}),t.d(n,"postToBridge",function(){return u}),t.d(n,"hideSkeleton",function(){return d}),t.d(n,"onNewOrUpdatedScreen",function(){return s}),t.d(n,"showNativeOverflowMenu",function(){return f}),t.d(n,"showNativeMap",function(){return l}),t.d(n,"showNativeCreateTrip",function(){return w}),t.d(n,"showNativeShareTrip",function(){return v}),t.d(n,"showSavesModal",function(){return p}),t.d(n,"showRegistration",function(){return g}),t.d(n,"close",function(){return h}),t.d(n,"startScreenTransition",function(){return m}),t.d(n,"onOverlayStateChange",function(){return b}),t.d(n,"onHeaderHeightChange",function(){return T}),t.d(n,"onShrinkMap",function(){return N}),t.d(n,"onNavigateToTripDetail",function(){return S}),t.d(n,"onHandleTripCollaboration",function(){return k}),t.d(n,"onFlushBatchTracking",function(){return M}),t.d(n,"isNativeWebview",function(){return C}),t.d(n,"getHeaderHeight",function(){return H}),t.d(n,"onTripsRefetch",function(){return B}),t.d(n,"onTripUpdate",function(){return I}),t.d(n,"onTripItemDelete",function(){return y}),t.d(n,"onRefetchTripsWithItems",function(){return O});var p=function e(n){r("presentSavesModal",2)?u("presentSavesModal",2,n):u("presentSavesModal",1,{itemId:n.id})},g=function e(n){u("showReg",1,{dismissOnCancellation:n})};function h(){u("close",1,null)}function m(){u("startScreenTransition",1,null)}function b(e){u(e?"overlayShown":"overlayHidden",1,null)}function T(e,n){a(e,"updateHeaderHeight",n)}function N(e,n){a(e,"shrinkMap",n)}function S(e,n){a(e,"navigateToTripDetail",n)}function k(e,n){a(e,"handleTripCollaboration",n)}function M(e,n){a(e,"flushBatchTracking",n)}function C(){return null!=o()}function H(){if("undefined"!=typeof window&&void 0!==window.localStorage&&void 0!==window.localStorage.headerHeight){var e=window.localStorage.headerHeight;return"string"==typeof e&&(e=parseInt(e,10)),e}return 0}function B(e,n){a(e,"refetchTrips",n)}function I(e){u("tripUpdate",1,e)}function y(e){u("tripItemDelete",1,e)}function O(e,n){a(e,"refetchTripsWithItems",n)}},"./packages/common/webview/webview.jsx":function(e,n,t){"use strict";t.r(n);var i=t("react"),o=t("@ta/styleguide.icon"),r=t("@ta/overlays.popover"),a=t.n(r),c=t("./packages/common/webview/NativeBridge.jsx"),u=function e(n){var t=n.className,r=n.nativeMenu;return i.createElement("div",{className:t||""},i.createElement(a.a,{below:!0,alignEdge:"right",shiftX:10,shiftArrow:10,arrowType:"small",contents:function e(){return null},closeButton:!1,local:!0},function(e){return i.createElement("div",{className:"common-webview-NativeOverflowUI__icon--2DZg2",ref:e,onClick:function e(){return r&&Object(c.showNativeOverflowMenu)(r)}},i.createElement(o.Icon,{name:"more-horizontal"}))}))};u.defaultProps={className:void 0,nativeMenu:void 0};var d=u;t.d(n,"NativeOverflowUI",function(){return d}),t.d(n,"NativeBridge",function(){return c})}}});
//# sourceMappingURL=common.webview.4336c3d4e1.js.map