($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/platform.sentry",d:["vendor-babel","lithium-platform","vendor-react-libs"],e:["./packages/platform/sentry/sentry.jsx"],x:{"./packages/platform/sentry/sentry.jsx":["sendSentryRequest","LOGGER_COMMON_LOGGING","installSentry","Sentry"]},m:{"./packages/platform/sentry/sentry.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"sendSentryRequest",function(){return c}),n.d(t,"LOGGER_COMMON_LOGGING",function(){return l}),n.d(t,"installSentry",function(){return f}),n.d(t,"Sentry",function(){return m});var r=n("@babel/runtime/helpers/esm/typeof"),i=n.n(r),s=n("@babel/runtime/helpers/esm/slicedToArray"),a=n.n(s),o=n("@ta/lithium.context"),u=n("react"),c=function e(t,n){t.withScope(function(e){Object.entries(n.tags).forEach(function(t){var n=a()(t,2),r=n[0],i=n[1];e.setTag(r,i)}),n.extraData&&Object.entries(n.extraData).forEach(function(t){var n=a()(t,2),r=n[0],i=n[1];e.setExtra(r,i)}),t.captureException(n.error)})},l="commonLogging",d=!1,f=function e(t,r){var s=t.serverName,o=t.hostName,u=t.version,f=t.drsInfo,m=r.page;return Promise.all([n.e("@ta/platform.sentry/@sentry/browser.demand").then(n.bind(null,"./node_modules/@sentry/browser/esm/index.js")),n.e("@ta/platform.sentry/@sentry/integrations.demand").then(n.bind(null,"./node_modules/@sentry/integrations/esm/index.js"))]).then(function(e){var t=a()(e,2),n=t[0],r=t[1];if(!d){d=!0;var g={dsn:"https://sentry@".concat(s,"/SentryProxy"),release:u,environment:"www.tripadvisor.com"===s||"www.tripadvisor.cn"===s?"live":"hare.tripadvisor.com"===s?"hare":"webml.dev.tripadvisor.com"===s?"webml":"dev",includePaths:["rutabaga_cyclone"],integrations:[new r.CaptureConsole({levels:["error"]})]};n.init(g),n.configureScope(function(e){e.setTag("hostName",o),e.setTag("runMode","production"),e.setTag("serverName",s),e.setTag("logger","jsDefault"),e.setExtra("drsInfo",f)}),"undefined"!=typeof __PRE_SENTRY_ERRORS__&&__PRE_SENTRY_ERRORS__&&__PRE_SENTRY_ERRORS__.forEach(function(e){c(n,{error:1===e.length&&"object"===i()(e[0])?e[0]:new Error(e.join(" ")),tags:{logger:l}})}),__PRE_SENTRY_ERRORS__=null}return n.configureScope(function(e){e.setTag("page",m)}),n})},m=function e(t){var n=t.installer||f,r=u.useContext(o.Debug),i=u.useContext(o.Route),s=u.useRef({status:"uninitialized"});return u.useEffect(function(){"uninitialized"===s.current.status?s.current={status:"initializing",done:new Promise(function(e){requestIdleCallback(function(){n(r,i).then(function(){e(),s.current={status:"initialized"}})})})}:"initializing"===s.current.status?s.current={status:"initializing",done:s.current.done.then(function(){return n(r,i)})}:n(r,i)},[r,i,n]),null}}}});
//# sourceMappingURL=platform.sentry.375bd855d4.js.map