($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/brand.global-nav-action-content-collect",d:["vendor-babel","vendor-react-libs","ta-platform","lithium-platform","@ta/overlays.popover","@ta/common.authz","@ta/tracking.interactions","@ta/social.login-gate","ta-common","@ta/overlays.modal","@ta/overlays.headers","vendor-redux-libs","@ta/public.listing"],e:["./packages/brand/global-nav-action-content-collect/index.jsx"],x:{"./packages/brand/global-nav-action-content-collect/ActionsBlock.jsx":["a"],"./packages/brand/global-nav-action-content-collect/ActionsBlock.less":["a"],"./packages/brand/global-nav-action-content-collect/ContentCollectionUtility.jsx":["c","d","b","a","e"],"./packages/brand/global-nav-action-content-collect/index.jsx":["default","ActionsBlock","getPid","getIconName","ShowOverlayUploaderModal","showLinkUploaderFromVideoUploader"]},m:{"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./packages/brand/global-nav-action-content-collect/ActionsBlock.jsx":function(e,t,n){"use strict";(function(e){var a=n("@babel/runtime/helpers/esm/extends"),o=n.n(a),l=n("react"),i=n("@ta/common.features"),c=n("@ta/common.i18n"),r=n("react-redux"),d=n("@ta/tracking.interactions"),s=n("@ta/common.tracking"),u=n.n(s),m=n("@ta/public.listing"),p=n("@ta/overlays.managers"),_=n("@ta/styleguide.icon"),b=n("./packages/brand/global-nav-action-content-collect/ContentCollectionUtility.jsx"),g=n("./packages/brand/global-nav-action-content-collect/ActionsBlock.less"),v=function t(n){var a=n.label,o=n.icon,i=n.trackingName,c=void 0===i?void 0:i,r=n.onClick,s=n.pid,b=void 0===s?-1:s,v=n.currentLocationid,f=void 0===v?void 0:v,k=n.socialLoginGate,h=n.ifMemberSignedIn,E=n.currentServletName,N=l.createElement("span",{className:g.a.itemLabel},a),L=l.createElement(_.Icon,{className:g.a.itemIcon,name:o});if(n.name){var C=n.name,I=n.setUploaderTriggerData;return l.createElement(p.Opener,{name:C},function(e){return l.createElement(d.InteractionLogger,null,function(t){return l.createElement(m.LabeledIconAction,{icon:L,label:N,onClick:function n(a){I(C,b),void 0!==c&&(t(a,"postContentCtaClick",{action:c,entrypoint:"GLOBAL_NAV",isMemberSignedIn:h,locationId:f}),u()({module:"postContentCtaClick",action:c,context:"GLOBAL_NAV|".concat(E),isMemberSignedIn:h,value:b})),k(b).then(function(){e(),r&&r(a)})}})})})}if(n.url){var O=n.url;return l.createElement(d.InteractionLogger,null,function(t){return l.createElement(m.LabeledIconAction,{icon:L,label:N,url:O,onClick:function n(a){void 0!==c&&(t(a,"postContentCtaClick",{action:c,entrypoint:"GLOBAL_NAV",locationId:f}),u()({module:"postContentCtaClick",action:c,context:"GLOBAL_NAV|".concat(E),isMemberSignedIn:h,value:b})),a.preventDefault(),k(b).then(function(){r&&r(a),window.location.href=O}),e.require(["trjs!ta/util/Cookie"],function(e){e.setPIDCookie(b)})}})})}return null},f=function e(t){var n=t.actions;return l.createElement("div",{className:g.a.buttons},n.map(function(e){return l.createElement(v,o()({},e,{key:e.label}))}))},k=function e(t){var n=t.permissions,a=t.permissionsLoading,o=t.setUploaderTriggerDataMethod,r=t.isLoggedIn,d=t.pageName,s=t.locationId,u=t.loginGate,m=t.isMemberSignedIn,p=Object(i.featureIsEnabled)("social_link_posting_enabled"),_=Object(i.featureIsEnabled)("media_video_upload_enabled"),g=Object(i.featureIsEnabled)("media_photo_upload_enabled"),v=[],k=Object(b.c)(d);return _&&r&&(null==n?void 0:n.canUploadVideo)&&v.push({label:Object(c.localize)("ugc_uploader_video_v3"),icon:"video-fill",trackingName:"POST_VIDEOS",name:"video-uploader-nav",setUploaderTriggerData:o,currentServletName:d,pid:k,currentLocationid:s,socialLoginGate:u,ifMemberSignedIn:m}),g&&(!r||a||(null==n?void 0:n.canPostPhoto))&&v.push({label:Object(c.localize)("ugc_uploader_photo_v3"),icon:"camera-fill",name:"photo-uploader-nav",trackingName:"POST_PHOTOS",setUploaderTriggerData:o,currentServletName:d,pid:k,currentLocationid:s,socialLoginGate:u,ifMemberSignedIn:m}),(!r||a||(null==n?void 0:n.canWriteReview))&&v.push({label:Object(c.localize)("ugc_uploader_review_v2"),icon:"pencil-paper",trackingName:"WRITE_REVIEW",url:"/UserReview",pid:k,currentLocationid:s,socialLoginGate:u,ifMemberSignedIn:m,currentServletName:d}),p&&r&&(null==n?void 0:n.canPostLink)&&v.push({label:Object(c.localize)("ugc_uploader_linkPost_v3"),icon:"link",name:"link-uploader-nav",trackingName:"POST_LINKS",setUploaderTriggerData:o,currentServletName:d,pid:k,currentLocationid:s,socialLoginGate:u,ifMemberSignedIn:m}),l.createElement(f,{actions:v})};k.defaultProps={isLoggedIn:!1},t.a=Object(r.connect)(function(e){return{isLoggedIn:!!e.auth.loggedInUserId,pageName:e.route.page,locationId:e.route.detail,isMemberSignedIn:e.auth.isMember}})(k)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./packages/brand/global-nav-action-content-collect/ActionsBlock.less":function(e,t,n){"use strict";t.a={buttons:"brand-global-nav-action-content-collect-ActionsBlock__buttons--vioUd",itemIcon:"brand-global-nav-action-content-collect-ActionsBlock__itemIcon--Hf6G5",itemLabel:"brand-global-nav-action-content-collect-ActionsBlock__itemLabel--1_mMr"}},"./packages/brand/global-nav-action-content-collect/ContentCollectionUtility.jsx":function(e,t,n){"use strict";var a=n("react"),o=n("@ta/common.classnames"),l=n.n(o),i=n("@ta/common.features"),c=n("@ta/common.i18n"),r=n("@ta/overlays.managers"),d=n("@ta/overlays.modal"),s=n("@ta/overlays.headers"),u=n("@ta/platform.import"),m="brand-global-nav-action-content-collect-ContentCollectionUtility__toastMessge--1kzFb",p="brand-global-nav-action-content-collect-ContentCollectionUtility__toastTitle--1wSgt";n.d(t,"c",function(){return f}),n.d(t,"d",function(){return k}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return E}),n.d(t,"e",function(){return N});var _,b=u.component.onUsage(((_=function e(){return n.e("@ta/social.linkpost-upload")}).__PACKAGE__="@ta/brand.global-nav-action-content-collect",_.__MODULE_ID__="@ta/social.linkpost-upload",_.__MODULE_NAME__="@ta/social.linkpost-upload",_.__BUNDLE_NAME__="@ta/social.linkpost-upload",_.__GET_SYNC__=function(){return n.m["@ta/social.linkpost-upload"]?n("@ta/social.linkpost-upload"):null},_.__IS_LOADED__=function(){return void 0!==n.m["@ta/social.linkpost-upload"]},_),"LinkPostUploader"),g=u.component.onUsage(function(){var e=function e(){return n.e("@ta/media.upload-exports")};return e.__PACKAGE__="@ta/brand.global-nav-action-content-collect",e.__MODULE_ID__="@ta/media.upload-exports",e.__MODULE_NAME__="@ta/media.upload-exports",e.__BUNDLE_NAME__="@ta/media.upload-exports",e.__GET_SYNC__=function(){return n.m["@ta/media.upload-exports"]?n("@ta/media.upload-exports"):null},e.__IS_LOADED__=function(){return void 0!==n.m["@ta/media.upload-exports"]},e}(),"MediaUploaderModal"),v=function e(t,n){return"Profile"===n?Object(c.unescaped)(Object(c.localize)("upload_link_posted_copy_modal_profile")):Object(c.unescaped)(Object(c.localize)("upload_link_posted_copy_modal_2",{0:t,1:"brand-global-nav-action-content-collect-ContentCollectionUtility__toastLink--1rg5T"}))},f=function e(t){return"Hotel_Review"===t?40537:"Restaurant_Review"===t?40513:"Attraction_Review"===t?40536:"Hotels"===t?40538:"Restaurants"===t?40512:"Attractions"===t?40535:"Home"===t?40488:"Profile"===t?40489:"SmartDeals"===t?40539:"ShowTopic"===t?40540:"Tourism"===t?40541:t.startsWith("ShowUserReviews")?40542:"ShowForum"===t||"ForumHome"===t?40544:"Airline_Review"===t?39771:"Airlines"===t?39772:"Cruise_Review"===t?40514:40543},k=function e(){return Object(i.featureIsEnabled)("add_cta_to_global_nav")?Object(c.localize)("global_nav_content_cta_post"):""},h=function e(){return Object(i.featureIsEnabled)("add_cta_to_global_nav")?"plus-circle":""},E=function e(t,n,o,i,u,_,f){if(null==i?void 0:i.profile){if("link-uploader-nav"===t)return a.createElement(a.Fragment,null,a.createElement(r.Opener,{name:"link-toast-overlay"},function(e){return a.createElement(b,{modalName:"link-uploader-nav",onSubmit:e,displaySuccessModal:!1,locationId:u})}),a.createElement(d.Modal,{name:"link-toast-overlay",header:a.createElement(s.TitleBar,{iconName:"link",displayType:"LEFT_ALIGN_GRAY"},a.createElement("span",{className:p},Object(c.localize)("link_uploader_header")))},a.createElement("div",{className:l()(m)},v(i.profile,f))));if("video-uploader-nav"===t)return a.createElement(a.Fragment,null,a.createElement(r.Opener,{name:"video-toast-overlay"},function(e){return a.createElement(g,{mediaType:"video",modalName:"video-uploader-nav",linkUploaderModalName:"link-uploader-nav",key:"video",pid:n,onSubmit:e,locationId:u,showLinkUploaderOfGNavVideoModalLink:_,linkUploaderModalNameOfGNavVideoModalLink:"link-uploader-from-video-uploader"})}),a.createElement(d.Modal,{name:"video-toast-overlay",header:a.createElement(s.TitleBar,{iconName:"video-fill",displayType:"LEFT_ALIGN_GRAY"},a.createElement("span",{className:p},Object(c.localize)("post_a_video_modal_header")))},a.createElement("div",{className:l()(m)},Object(c.localize)("upload_video_processing_copy_modal"))));if("photo-uploader-nav"===t)return a.createElement(a.Fragment,null,a.createElement(r.Opener,{name:"photo-toast-overlay"},function(e){return a.createElement(g,{mediaType:"photo",modalName:"photo-uploader-nav",linkUploaderModalName:"link-uploader-nav",key:"photo",pid:n,onSubmit:e,locationId:u})}),a.createElement(d.Modal,{name:"photo-toast-overlay",header:a.createElement(s.TitleBar,{iconName:"camera-fill",displayType:"LEFT_ALIGN_GRAY"},a.createElement("span",{className:p},Object(c.localize)("post_photos_form_header")))},a.createElement("div",{className:l()(m)},function e(t,n){return"Profile"===n?Object(c.unescaped)(Object(c.localize)("upload_photo_posted_copy_modal_profile")):Object(c.unescaped)(Object(c.localize)("upload_photo_posted_copy_modal_2",{0:t,1:"brand-global-nav-action-content-collect-ContentCollectionUtility__toastLink--1rg5T"}))}(i.profile,f))))}return null},N=function e(t,n,o,i,u){return t&&(null==o?void 0:o.profile)?a.createElement("div",null,a.createElement(r.Opener,{name:"link-toast-overlay"},function(e){return a.createElement(b,{modalName:"link-uploader-from-video-uploader",onSubmit:e,locationId:i})}),a.createElement(d.Modal,{name:"link-toast-overlay",header:a.createElement(s.TitleBar,{iconName:"link",displayType:"LEFT_ALIGN_GRAY"},a.createElement("span",{style:{fontSize:"16px",lineHeight:"18px"}},Object(c.localize)("link_uploader_header")))},a.createElement("div",{className:l()(m)},v(o.profile,u)))):null}},"./packages/brand/global-nav-action-content-collect/index.jsx":function(e,t,n){"use strict";n.r(t);var a=n("@babel/runtime/helpers/esm/classCallCheck"),o=n.n(a),l=n("@babel/runtime/helpers/esm/createClass"),i=n.n(l),c=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),r=n.n(c),d=n("@babel/runtime/helpers/esm/getPrototypeOf"),s=n.n(d),u=n("@babel/runtime/helpers/esm/inherits"),m=n.n(u),p=n("@babel/runtime/helpers/esm/assertThisInitialized"),_=n.n(p),b=n("@babel/runtime/helpers/esm/defineProperty"),g=n.n(b),v=n("react"),f=n("@ta/common.api"),k=n("@ta/common.classnames"),h=n.n(k),E=n("@ta/overlays.popover"),N=n.n(E),L=n("@ta/common.authz"),C=n("@ta/tracking.interactions"),I=n("@ta/common.tracking"),O=n.n(I),y=n("@ta/social.login-gate"),S=n("@ta/common.features"),A=n("./packages/brand/global-nav-action-content-collect/ActionsBlock.jsx"),U=n("./packages/brand/global-nav-action-content-collect/ContentCollectionUtility.jsx"),j=function(e){function t(){var e,n;o()(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return n=r()(this,(e=s()(t)).call.apply(e,[this].concat(l))),g()(_()(_()(n)),"state",{modalName:"",pId:-1,showLinkUploader:!1}),g()(_()(_()(n)),"setUploaderTriggerData",function(e,t){n.setState({modalName:e,pId:t})}),g()(_()(_()(n)),"ifShowLinkUploader",function(e){n.setState({showLinkUploader:e})}),n}return m()(t,e),i()(t,[{key:"render",value:function e(){var t,n,a=this,o=this.state,l=o.modalName,i=o.pId,c=o.showLinkUploader,r=this.props,d=r.currentLocale,s=r.member,u=r.pageName,m=r.currentLocationId,p=r.ifMemberSignedIn,_="Home"===u,b=!Object(S.featureIsEnabled)("components_header"),f=h()("brand-global-nav-action-content-collect-ContentCollection__icon--2M_7j",(t={},g()(t,"brand-global-nav-action-content-collect-ContentCollection__onDarkBg--oLQNM",!_),g()(t,"brand-global-nav-action-content-collect-ContentCollection__nonComponentIcon--3eipG",b),t)),k=h()("brand-global-nav-action-content-collect-ContentCollection__container--3_q4P",(n={},g()(n,"brand-global-nav-action-content-collect-ContentCollection__onDarkBg--oLQNM",!_),g()(n,"brand-global-nav-action-content-collect-ContentCollection__onDark--1eb0U",!_),g()(n,"brand-global-nav-action-content-collect-ContentCollection__nonComponentContainer--1tFJw",b),n)),E=Object(U.d)(),I=h()("ui_icon",Object(U.b)());return v.createElement(C.TrackingNamespaceContext.Provider,{value:"globalNav"},v.createElement(C.GlobalNavTrackingContext.Provider,{value:{uid:this.props.uid}},v.createElement(y.SocialLoginGate,{pid:Object(U.c)(u)},function(e){return v.createElement(C.InteractionLogger,null,function(t){return v.createElement("div",{className:k,title:E},Object(U.a)(l,i,d,s,m,a.ifShowLinkUploader,u),Object(U.e)(c,d,s,m,u),v.createElement(N.a,{fullBleed:!0,below:!0,alignEdge:"right",contents:function t(){return v.createElement(L.WithAuthzInfo,null,function(t,n){return v.createElement(A.a,{permissions:t,permissionsLoading:n,setUploaderTriggerDataMethod:a.setUploaderTriggerData,loginGate:e})})},closeButton:!1,shiftArrow:-19,shiftY:2,arrowType:"small",fixed:_,minWidth:200},function(e,n){return v.createElement("div",{ref:e,onClick:function e(a){n(),function e(n){t(n,"postContentCtaClick",{action:"NO_SELECTION",entrypoint:"GLOBAL_NAV",locationId:m,isMemberSignedIn:p}),O()({module:"postContentCtaClick",action:"NO_SELECTION",context:"GLOBAL_NAV|".concat(u),isMemberSignedIn:p})}(a)},className:f,title:E},v.createElement("span",{className:I}),v.createElement("span",{className:"brand-global-nav-action-content-collect-ContentCollection__label--1YYud"},E))}))})})))}}]),t}(v.Component),M=Object(f.bind)(function(e,t){var n=null,a=e.auth,o=a.loggedInUserId;return a.isMember&&(n=t("/data/1.0/member/self?userId=".concat(o))),function(e){return{uid:e.tracking.uid||"",currentLocale:e.i18n.locale,pageName:e.route.page,member:n?n.get().data:null,currentLocationId:e.route.detail||0,initialServletName:e.meta.initialServletName,ifMemberSignedIn:e.auth.isMember}}})(j);n.d(t,"ActionsBlock",function(){return A.a}),n.d(t,"getPid",function(){return U.c}),n.d(t,"getIconName",function(){return U.b}),n.d(t,"ShowOverlayUploaderModal",function(){return U.a}),n.d(t,"showLinkUploaderFromVideoUploader",function(){return U.e}),t.default=M}}});
//# sourceMappingURL=brand.global-nav-action-content-collect.2e4a6f7250.js.map