($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/brand.mobile-global-nav-content-collect",d:["vendor-babel","vendor-react-libs","ta-common","lithium-platform","ta-platform","@ta/common.authz","@ta/tracking.interactions","@ta/social.login-gate","@ta/overlays.modal","@ta/overlays.headers","@ta/public.listing"],e:["./packages/brand/mobile-global-nav-content-collect/index.jsx"],x:{"./packages/brand/mobile-global-nav-content-collect/MobileContentCollectionUtility.jsx":["a","b","d","e","c"],"./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.jsx":["a"],"./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.less":["a"],"./packages/brand/mobile-global-nav-content-collect/index.jsx":["default","MobileMediaActionsBlock","showLinkUploaderFromVideoUploader","setUploaderModal","setNonWCUploaderModal","getMobilePid"]},m:{"./node_modules/webpack/buildin/global.js":function(e,o){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},"./packages/brand/mobile-global-nav-content-collect/MobileContentCollectionUtility.jsx":function(e,o,t){"use strict";var a=t("react"),n=t("@ta/common.features"),l=t("@ta/common.i18n"),i=t("@ta/overlays.managers"),r=t("@ta/overlays.modal"),c=t("@ta/overlays.headers"),d=t("@ta/platform.import"),s="brand-mobile-global-nav-content-collect-MobileContentCollectionUtility__toastMessage--323y-";t.d(o,"a",function(){return b}),t.d(o,"b",function(){return g}),t.d(o,"d",function(){return f}),t.d(o,"e",function(){return M}),t.d(o,"c",function(){return E});var m,u=d.component.onUsage(((m=function e(){return t.e("@ta/social.linkpost-upload")}).__PACKAGE__="@ta/brand.mobile-global-nav-content-collect",m.__MODULE_ID__="@ta/social.linkpost-upload",m.__MODULE_NAME__="@ta/social.linkpost-upload",m.__BUNDLE_NAME__="@ta/social.linkpost-upload",m.__GET_SYNC__=function(){return t.m["@ta/social.linkpost-upload"]?t("@ta/social.linkpost-upload"):null},m.__IS_LOADED__=function(){return void 0!==t.m["@ta/social.linkpost-upload"]},m),"LinkPostUploader"),p=d.component.onUsage(function(){var e=function e(){return t.e("@ta/media.upload-exports")};return e.__PACKAGE__="@ta/brand.mobile-global-nav-content-collect",e.__MODULE_ID__="@ta/media.upload-exports",e.__MODULE_NAME__="@ta/media.upload-exports",e.__BUNDLE_NAME__="@ta/media.upload-exports",e.__GET_SYNC__=function(){return t.m["@ta/media.upload-exports"]?t("@ta/media.upload-exports"):null},e.__IS_LOADED__=function(){return void 0!==t.m["@ta/media.upload-exports"]},e}(),"MediaUploaderModal"),b=function e(o){return"Hotel_Review"===o?40537:"Restaurant_Review"===o?40513:"MobileAttraction_Review"===o?40536:"Hotels"===o?40538:"MobileRestaurants"===o?40512:"MobileAttractions"===o?40535:"Home"===o?40488:"Profile"===o?40489:"MobileSmartDeals"===o?40539:"MobileShowTopic"===o?40540:"MobileTourism"===o?40541:"MobileShowUserReviews"===o?40542:"MobileShowForum"===o||"MobileForumHome"===o?40544:"Airline_Review"===o?39771:"Airlines"===o?39772:"Cruise_Review"===o?40514:40543},_=function e(o,t){return"Profile"===t?Object(l.unescaped)(Object(l.localize)("upload_link_posted_copy_modal_profile")):Object(l.unescaped)(Object(l.localize)("upload_link_posted_copy_modal_2",{0:o,1:"brand-mobile-global-nav-content-collect-MobileContentCollectionUtility__toastLink--1UHna"}))},v=function e(o,t){return"Profile"===t?Object(l.unescaped)(Object(l.localize)("upload_photo_posted_copy_modal_profile")):Object(l.unescaped)(Object(l.localize)("upload_photo_posted_copy_modal_2",{0:o,1:"brand-mobile-global-nav-content-collect-MobileContentCollectionUtility__toastLink--1UHna"}))},g=function e(){return Object(n.featureIsEnabled)("add_cta_to_global_nav")?Object(l.localize)("global_nav_content_cta_post"):""},f=function e(o,t,n,d,m,b,g){if(null==d?void 0:d.profile){var f="link-uploader-nav-mobile";if(o===f)return a.createElement("div",null,a.createElement(i.Opener,{name:"link-toast-overlay-mobile"},function(e){return a.createElement(u,{modalName:f,displaySuccessModal:!1,onSubmit:e,locationId:m})}),a.createElement(r.Modal,{name:"link-toast-overlay-mobile",header:a.createElement(c.TitleBar,{iconName:"link",displayType:"LEFT_ALIGN_GRAY"},Object(l.localize)("link_uploader_header"))},a.createElement("div",{className:s},_(d.profile,g))));if("video-uploader-nav-mobile"===o)return a.createElement("div",null,a.createElement(i.Opener,{name:"video-toast-overlay-mobile"},function(e){return a.createElement(p,{mediaType:"video",modalName:"video-uploader-nav-mobile",linkUploaderModalName:f,key:"video-mobile",pid:t,onSubmit:e,locationId:m,showLinkUploaderOfGNavVideoModalLink:b,linkUploaderModalNameOfGNavVideoModalLink:"link-uploader-from-video-uploader-mobile"})}),a.createElement(r.Modal,{name:"video-toast-overlay-mobile",header:a.createElement(c.TitleBar,{iconName:"video-fill",displayType:"LEFT_ALIGN_GRAY"},Object(l.localize)("post_a_video_modal_header"))},a.createElement("div",{className:s},Object(l.localize)("upload_video_processing_copy_modal"))));if("photo-uploader-nav-mobile"===o)return a.createElement("div",null,a.createElement(i.Opener,{name:"photo-toast-overlay-mobile"},function(e){return a.createElement(p,{mediaType:"photo",modalName:"photo-uploader-nav-mobile",linkUploaderModalName:f,key:"photo-mobile",pid:t,onSubmit:e,locationId:m})}),a.createElement(r.Modal,{name:"photo-toast-overlay-mobile",header:a.createElement(c.TitleBar,{iconName:"camera-fill",displayType:"LEFT_ALIGN_GRAY"},Object(l.localize)("post_photos_form_header"))},a.createElement("div",{className:s},v(d.profile,g))))}return null},M=function e(o,t,n,d,m){return o&&(null==n?void 0:n.profile)?a.createElement("div",null,a.createElement(i.Opener,{name:"link-toast-overlay"},function(e){return a.createElement(u,{modalName:"link-uploader-from-video-uploader-mobile",displaySuccessModal:!1,onSubmit:e,locationId:d})}),a.createElement(r.Modal,{name:"link-toast-overlay",header:a.createElement(c.TitleBar,{iconName:"link",displayType:"LEFT_ALIGN_GRAY"},Object(l.localize)("link_uploader_header"))},a.createElement("div",{className:s},_(n.profile,m)))):null},E=function e(o,t,n,d,m,b){if("Home"!==o&&"Profile"!==o&&"Trips"!==o&&(null==b?void 0:b.profile)){var g="link-uploader-nav-mobile";if(t===g)return a.createElement("div",null,a.createElement(i.Opener,{name:"link-toast-overlay-mobile"},function(e){return a.createElement(u,{modalName:g,displaySuccessModal:!1,onSubmit:e,locationId:d})}),a.createElement(r.Modal,{name:"link-toast-overlay-mobile",header:a.createElement(c.TitleBar,{iconName:"link",displayType:"LEFT_ALIGN_GRAY"},Object(l.localize)("link_uploader_header"))},a.createElement("div",{className:s},_(b.profile,o))));if("video-uploader-nav-mobile"===t)return a.createElement("div",null,a.createElement(i.Opener,{name:"video-toast-overlay-mobile"},function(e){return a.createElement(p,{mediaType:"video",modalName:"video-uploader-nav-mobile",linkUploaderModalName:g,key:"video-mobile",pid:n,onSubmit:e,locationId:d})}),a.createElement(r.Modal,{name:"video-toast-overlay-mobile",header:a.createElement(c.TitleBar,{iconName:"video-fill",displayType:"LEFT_ALIGN_GRAY"},Object(l.localize)("post_a_video_modal_header"))},a.createElement("div",{className:s},Object(l.localize)("upload_video_processing_copy_modal"))));if("photo-uploader-nav-mobile"===t)return a.createElement("div",null,a.createElement(i.Opener,{name:"photo-toast-overlay-mobile"},function(e){return a.createElement(p,{mediaType:"photo",modalName:"photo-uploader-nav-mobile",linkUploaderModalName:g,key:"photo-mobile",pid:n,onSubmit:e,locationId:d})}),a.createElement(r.Modal,{name:"photo-toast-overlay-mobile",header:a.createElement(c.TitleBar,{iconName:"camera-fill",displayType:"LEFT_ALIGN_GRAY"},Object(l.localize)("post_photos_form_header"))},a.createElement("div",{className:s},v(b.profile,o))))}return null}},"./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.jsx":function(e,o,t){"use strict";(function(e){var a=t("@babel/runtime/helpers/esm/extends"),n=t.n(a),l=t("react"),i=t("@ta/overlays.managers"),r=t("@ta/common.i18n"),c=t("@ta/common.api"),d=t("@ta/common.features"),s=t("@ta/tracking.interactions"),m=t("@ta/common.tracking"),u=t.n(m),p=t("@ta/public.listing"),b=t("@ta/styleguide.icon"),_=t("./packages/brand/mobile-global-nav-content-collect/MobileContentCollectionUtility.jsx"),v=t("./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.less"),g=function o(t){var a=t.label,n=t.icon,r=t.trackingName,c=void 0===r?void 0:r,d=t.onClick,g=void 0===d?void 0:d,f=t.pid,M=void 0===f?-1:f,E=t.currentLocationid,k=void 0===E?0:E,h=t.socialLoginGate,N=t.ifMemberSignedIn,y=t.currentPageName,I=l.createElement("span",{className:v.a.itemLabel},a),C=l.createElement(b.Icon,{className:v.a.itemIcon,name:n});if(t.name){var L=t.name,O=t.overlay,U=t.locale,A=t.memberData;return l.createElement(l.Fragment,null,Object(_.c)(y,L,M,k,U,A),l.createElement(i.Opener,{name:L},function(e){return l.createElement(s.InteractionLogger,null,function(o){return l.createElement(p.LabeledIconAction,{icon:C,label:I,onClick:function t(a){"Home"!==y&&"Profile"!==y&&"Trips"!==y||O(L,M),void 0!==c&&(o(a,"postContentCtaClick",{action:c,entrypoint:"HAMBURGER_MENU",isMemberSignedIn:N,locationId:k}),u()({module:"postContentCtaClick",action:c,context:"HAMBURGER_MENU|".concat(y),isMemberSignedIn:N,value:M})),h(M).then(function(){e(),g&&g(a)})}})})}))}if(t.url){var j=t.url;return l.createElement(s.InteractionLogger,null,function(o){return l.createElement(p.LabeledIconAction,{icon:C,label:I,url:j,onClick:function t(a){void 0!==c&&(o(a,"postContentCtaClick",{action:c,entrypoint:"HAMBURGER_MENU",locationId:k,isMemberSignedIn:N}),Object(m.trackEventCookie)({module:"postContentCtaClick",action:c,context:"HAMBURGER_MENU|".concat(y),isMemberSignedIn:N,value:M,destinationUrl:"/UserReview"})),a.preventDefault(),e.require(["trjs!ta/util/Cookie"],function(e){e.setPIDCookie(M)}),h(M).then(function(){g&&g(a),window.location.href=j})}})})}return null},f=function e(o){var t=o.actions;return l.createElement("div",{className:v.a.buttons},t.map(function(e){return l.createElement(g,n()({},e,{key:e.label}))}))},M=function e(o){var t=o.permissions,a=o.permissionsLoading,n=o.setModalInfo,i=o.isLoggedIn,c=o.member,s=o.currentLocale,m=o.locationId,u=o.pageName,p=o.loginGate,b=o.isMemberSignedIn,v=Object(d.featureIsEnabled)("social_link_posting_enabled"),g=Object(d.featureIsEnabled)("media_video_upload_enabled"),M=Object(d.featureIsEnabled)("media_photo_upload_enabled"),E=[],k=Object(_.a)(u);return g&&i&&(null==t?void 0:t.canUploadVideo)&&E.push({label:Object(r.localize)("ugc_uploader_video_v3"),icon:"video-fill",trackingName:"POST_VIDEOS",name:"video-uploader-nav-mobile",overlay:n,memberData:c,locale:s,pid:k,currentLocationid:m,socialLoginGate:p,ifMemberSignedIn:b,currentPageName:u}),M&&(!i||a||(null==t?void 0:t.canPostPhoto))&&E.push({label:Object(r.localize)("ugc_uploader_photo_v3"),icon:"camera-fill",name:"photo-uploader-nav-mobile",trackingName:"POST_PHOTOS",overlay:n,memberData:c,locale:s,pid:k,currentLocationid:m,socialLoginGate:p,ifMemberSignedIn:b,currentPageName:u}),(!i||a||(null==t?void 0:t.canWriteReview))&&E.push({label:Object(r.localize)("ugc_uploader_review_v2"),icon:"pencil-paper",trackingName:"WRITE_REVIEW",url:"/UserReview",pid:k,currentLocationid:m,socialLoginGate:p,ifMemberSignedIn:b,currentPageName:u}),v&&i&&(null==t?void 0:t.canPostLink)&&E.push({label:Object(r.localize)("ugc_uploader_linkPost_v3"),icon:"link",name:"link-uploader-nav-mobile",trackingName:"POST_LINKS",overlay:n,memberData:c,locale:s,pid:k,currentLocationid:m,socialLoginGate:p,ifMemberSignedIn:b,currentPageName:u}),l.createElement(f,{actions:E})};M.defaultProps={isLoggedIn:!1},o.a=Object(c.bind)(function(e,o){var t=null,a=e.auth,n=a.loggedInUserId;return a.isMember&&(t=o("/data/1.0/member/self?userId=".concat(n))),function(e){return{isLoggedIn:!!e.auth.loggedInUserId,currentLocale:e.i18n.locale,member:t?t.get().data:null,pageName:e.route.page,locationId:e.route.detail,isMemberSignedIn:e.auth.isMember}}})(M)}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.less":function(e,o,t){"use strict";o.a={buttons:"brand-mobile-global-nav-content-collect-MobileMediaActionsBlock__buttons--1A96a",itemIcon:"brand-mobile-global-nav-content-collect-MobileMediaActionsBlock__itemIcon--3Ugco",itemLabel:"brand-mobile-global-nav-content-collect-MobileMediaActionsBlock__itemLabel--1Uc01"}},"./packages/brand/mobile-global-nav-content-collect/index.jsx":function(e,o,t){"use strict";t.r(o);var a=t("@babel/runtime/helpers/esm/classCallCheck"),n=t.n(a),l=t("@babel/runtime/helpers/esm/createClass"),i=t.n(l),r=t("@babel/runtime/helpers/esm/possibleConstructorReturn"),c=t.n(r),d=t("@babel/runtime/helpers/esm/getPrototypeOf"),s=t.n(d),m=t("@babel/runtime/helpers/esm/inherits"),u=t.n(m),p=t("@babel/runtime/helpers/esm/assertThisInitialized"),b=t.n(p),_=t("@babel/runtime/helpers/esm/defineProperty"),v=t.n(_),g=t("react"),f=t("@ta/styleguide.icon"),M=t("@ta/common.classnames"),E=t.n(M),k=t("@ta/common.api"),h=t("@ta/common.authz"),N=t("@ta/tracking.interactions"),y=t("@ta/common.tracking"),I=t.n(y),C=t("@ta/social.login-gate"),L=t("./packages/brand/mobile-global-nav-content-collect/MobileContentCollectionUtility.jsx"),O=t("./packages/brand/mobile-global-nav-content-collect/MobileMediaActionsBlock.jsx"),U=function(e){function o(){var e,t;n()(this,o);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return t=c()(this,(e=s()(o)).call.apply(e,[this].concat(l))),v()(b()(b()(t)),"state",{isCollapsed:!0}),t}return u()(o,e),i()(o,[{key:"render",value:function e(){var o=this,t=E()("brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__collapsedLinksContainer--3g9GA",v()({},"brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__expanded--3e0GQ",!this.state.isCollapsed)),a=E()("brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__toggleMoreLinks--2-2dw",v()({},"brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__isOwner--2J2GH",this.props.isOwner));return g.createElement(N.TrackingNamespaceContext.Provider,{value:"globalNav"},g.createElement(N.GlobalNavTrackingContext.Provider,{value:{uid:this.props.uid}},g.createElement(C.SocialLoginGate,{pid:Object(L.a)(this.props.pageName)},function(e){return g.createElement(N.InteractionLogger,null,function(n){return g.createElement(g.Fragment,null,g.createElement("div",{className:t},g.createElement("div",{className:a,onClick:function e(t){o.state.isCollapsed&&(n(t,"postContentCtaClick",{action:"NO_SELECTION",entrypoint:"HAMBURGER_MENU",locationId:o.props.currentLocationId,isMemberSignedIn:o.props.ifMemberSignedIn}),I()({module:"postContentCtaClick",action:"NO_SELECTION",locationId:o.props.currentLocationId,context:"HAMBURGER_MENU|".concat(o.props.pageName),isMemberSignedIn:o.props.ifMemberSignedIn})),o.setState({isCollapsed:!o.state.isCollapsed})}},Object(L.b)(),g.createElement(f.Icon,{name:"single-chevron-down",className:"brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__singleChevronDown--n5ozB"})),g.createElement("ul",{className:"brand-mobile-global-nav-content-collect-PostButtonCollapsedMenu__collapsedMedias--3J66_"},g.createElement(h.WithAuthzInfo,null,function(t,a){return g.createElement(O.a,{permissions:t,permissionsLoading:a,setModalInfo:o.props.setModalInfo,loginGate:e})}))))})})))}}]),o}(g.Component),A=Object(k.bind)(function(e,o){return O.a.stage(e,o),function(o){return{uid:o.tracking.uid||"",pageName:e.route.page,currentLocationId:e.route.detail||0,ifMemberSignedIn:e.auth.isMember}}})(U);t.d(o,"MobileMediaActionsBlock",function(){return O.a}),t.d(o,"showLinkUploaderFromVideoUploader",function(){return L.e}),t.d(o,"setUploaderModal",function(){return L.d}),t.d(o,"setNonWCUploaderModal",function(){return L.c}),t.d(o,"getMobilePid",function(){return L.a}),o.default=A}}});
//# sourceMappingURL=brand.mobile-global-nav-content-collect.5c80996bf6.js.map