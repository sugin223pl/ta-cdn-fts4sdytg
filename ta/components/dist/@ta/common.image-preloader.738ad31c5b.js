($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/common.image-preloader",d:["vendor-react-libs","vendor-babel"],e:["./packages/common/image-preloader/index.jsx"],x:{"./packages/common/image-preloader/index.jsx":["ImagePreloader","ImagePreloaderRenderer","useImagePreloader"]},m:{"./packages/common/image-preloader/index.jsx":function(e,r,n){"use strict";n.r(r);var o=n("react"),t=function e(r){return o.createElement("div",{className:"common-image-preloader-ImagePreloader__preloader--3zPhM"},r.urls.map(function(e){return o.createElement("img",{key:e,src:e})}))},u=n("@babel/runtime/helpers/esm/slicedToArray"),a=n.n(u),c=function e(){},l=function e(){var r=o.useRef({});return o.useEffect(function(){return function(){for(var e=Object.keys(r.current),n=0;n<e.length;n++){var o=e[n];r.current[o].onload=null,r.current[o].onerror=null,delete r.current[o]}}},[]),[function e(n){var o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,a=null===(o=r.current)||void 0===o?void 0:o[n];a||((a=new Image).onload=function(){t(),r.current[n]={complete:!0}},a.onerror=function(){u(),r.current[n]={complete:!1}},a.src=n,r.current[n]=a)},function e(n){var o,t;return!!(null===(o=r.current)||void 0===o?void 0:null===(t=o[n])||void 0===t?void 0:t.complete)}]},i=function e(r){var n=r.url,t=r.delay,u=r.loadingRenderer,c=l(),i=a()(c,2),d=i[0],m=i[1],f=o.useState(!1),s=a()(f,2),g=s[0],v=s[1],p=o.useCallback(function(){v(!1)});return o.useEffect(function(){var e;return n&&!m(n)&&(d(n,p),g||(e=setTimeout(function(){m(n)||v(!0)},t))),function(){return clearTimeout(e)}},[n,t,m,d,p,g]),n&&g?u():null};n.d(r,"ImagePreloader",function(){return t}),n.d(r,"ImagePreloaderRenderer",function(){return i}),n.d(r,"useImagePreloader",function(){return l})}}});
//# sourceMappingURL=common.image-preloader.738ad31c5b.js.map