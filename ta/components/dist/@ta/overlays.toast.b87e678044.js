($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/overlays.toast",d:["vendor-babel","vendor-react-libs","vendor-redux-libs","react-transition-group","ta-platform","@ta/overlays.pieces","ta-common"],e:["./packages/overlays/toast/toast.jsx"],x:{"./packages/overlays/toast/toast.jsx":["Toaster"]},m:{"./packages/overlays/toast/toast.jsx":function(e,t,a){"use strict";a.r(t);var o=a("@babel/runtime/helpers/esm/objectSpread"),s=a.n(o),r=a("@babel/runtime/helpers/esm/classCallCheck"),n=a.n(r),i=a("@babel/runtime/helpers/esm/createClass"),l=a.n(i),c=a("@babel/runtime/helpers/esm/possibleConstructorReturn"),m=a.n(c),u=a("@babel/runtime/helpers/esm/getPrototypeOf"),v=a.n(u),p=a("@babel/runtime/helpers/esm/inherits"),d=a.n(p),T=a("@babel/runtime/helpers/esm/assertThisInitialized"),f=a.n(T),h=a("@babel/runtime/helpers/esm/defineProperty"),y=a.n(h),_=a("react"),b=a("react-redux"),E=a("react-transition-group"),x=a("@ta/common.error-handling"),g=a("@ta/common.state"),I=a("@ta/overlays.pieces"),O=a("@ta/styleguide.icon"),j=function e(t){var a=t.toast;return _.createElement("div",{className:"overlays-toast-ToastItem__toast_wrap--1rDju"},_.createElement("div",{className:"overlays-toast-ToastItem__toast--ObFmm"},_.createElement("div",{className:"overlays-toast-ToastItem__toast_text--1Mk2G"},a.iconName&&_.createElement("div",{className:"overlays-toast-ToastItem__toast_icon--3Dgfn"},_.createElement(O.Icon,{name:a.iconName})),_.createElement("div",{className:"overlays-toast-ToastItem__node_wrap--3nvQo"},a.node)),a.cta&&_.createElement("div",{className:"overlays-toast-ToastItem__toast_action--3ZOL2"},a.cta)))},N=4e3,k=function(e){function t(e){var a;return n()(this,t),a=m()(this,v()(t).call(this,e)),y()(f()(f()(a)),"removalTimeouts",[]),y()(f()(f()(a)),"clearTimeouts",function(){a.removalTimeouts.forEach(function(e){return clearTimeout(e)}),a.removalTimeouts=[]}),y()(f()(f()(a)),"launchToast",function(e,t){var o=e.id?e.id:"toast_".concat(Math.random().toString(36).replace(/[^a-z]+/g,"")),r=s()({id:o},e);a.clearTimeouts(),a.setState({toasts:[{toast:r,wrapper:t}]}),a.removalTimeouts.push(setTimeout(function(){a.removeToast(o)},r.timeout||N)),Object(g.getStore)().dispatch(g.actions.overlays.launchExclusiveToast(o))}),y()(f()(f()(a)),"removeToast",function(e){a.setState({toasts:a.state.toasts.filter(function(t){return t.toast.id!==e})}),Object(g.getStore)().dispatch(g.actions.overlays.removeToast(e)),a.props.onToastRemoved&&a.props.onToastRemoved()}),a.state={toasts:[]},a}return d()(t,e),l()(t,[{key:"componentWillUnmount",value:function e(){this.clearTimeouts()}},{key:"render",value:function e(){var t=this;return _.createElement(_.Fragment,null,this.props.children(this.launchToast,this.removeToast),_.createElement(x.ErrorBoundary,null,_.createElement(E.TransitionGroup,{component:null,enter:!0,exit:!0},this.state.toasts.filter(function(e){return t.props.toasts.includes(e.toast.id)}).map(function(e){var t=e.toast,a=e.wrapper;return _.createElement(E.CSSTransition,{timeout:300,key:t.id,classNames:{enter:"overlays-toast-Toaster__fadeInEnter--3Lm2-",enterActive:"overlays-toast-Toaster__fadeInEnterActive--3Gfp0",enterDone:"overlays-toast-Toaster__fadeInEnterDone--1sv4e",exit:"overlays-toast-Toaster__fadeOutExit--3iK4m",exitActive:"overlays-toast-Toaster__fadeOutExitActive--K5YMm",exitDone:"overlays-toast-Toaster__fadeOutExitDone--3TRsj"}},_.createElement(I.Overlay,{perspective:"300px",position:{position:"fixed",bottom:"0",left:"0",right:"0",height:"auto"}},a?a(_.createElement(j,{toast:t})):_.createElement(j,{toast:t})))}))))}}]),t}(_.Component);y()(k,"defaultProps",{onToastRemoved:void 0});var S=Object(b.connect)(function(e){return{toasts:e.overlays.toasts}})(k);a.d(t,"Toaster",function(){return S})}}});
//# sourceMappingURL=overlays.toast.b87e678044.js.map