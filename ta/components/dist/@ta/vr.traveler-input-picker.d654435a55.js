($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/vr.traveler-input-picker",d:["vendor-babel","vendor-react-libs","lithium-platform","@ta/vr.datepicker","ta-common","ta-platform","vendor-redux-libs"],e:["./packages/vr/traveler-input-picker/index.jsx"],x:{"./packages/vr/traveler-input-picker/index.jsx":["GuestsInputPicker","PetsPickers","TravelerInputsPicker","SearchDateInputsPicker","Counter","SRPTravelerInputsPicker","datesFallOutsideValidRange","dateDiffInDays","addMonthsToDate","FINAL_DAY","TODAY"]},m:{"./packages/vr/traveler-input-picker/index.jsx":function(e,t,n){"use strict";n.r(t);var r=n("@babel/runtime/helpers/esm/classCallCheck"),a=n.n(r),s=n("@babel/runtime/helpers/esm/createClass"),o=n.n(s),c=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),i=n.n(c),l=n("@babel/runtime/helpers/esm/getPrototypeOf"),p=n.n(l),u=n("@babel/runtime/helpers/esm/inherits"),d=n.n(u),m=n("@babel/runtime/helpers/esm/assertThisInitialized"),v=n.n(m),h=n("@babel/runtime/helpers/esm/defineProperty"),f=n.n(h),g=n("react"),k=n("@ta/common.i18n"),D=n("@ta/vr.datepicker"),_=n("@ta/styleguide.button"),E=n.n(_),I=n("@ta/styleguide.icon"),b=function e(t){return null!=t?t:""},N=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=i()(this,(e=p()(t)).call.apply(e,[this].concat(s))),f()(v()(v()(n)),"handleInputChange",function(e){var t=e.currentTarget.value,r=Number.parseInt(t,10);n.props.onChange(r||n.props.min)}),f()(v()(v()(n)),"decrement",function(){var e=n.props,t=e.min,r=e.value,a=e.increment,s=r?Math.max(r-a,t):t;n.props.onChange(s)}),f()(v()(v()(n)),"increment",function(){var e=n.props,t=e.value,r=e.increment,a=t?t+r:r;n.props.onChange(a)}),n}return d()(t,e),o()(t,[{key:"render",value:function e(){var t=this.props,n=t.label,r=t.min,a=t.value,s=t.containerClassName,o=t.renderInputValue,c=!a||a<=r;return g.createElement("div",{className:"".concat("vr-traveler-input-picker-NumberPicker__container--3Piql"," ").concat(s)},g.createElement("div",{className:"vr-traveler-input-picker-NumberPicker__label--Th5PL"},n),g.createElement("div",{className:"vr-traveler-input-picker-NumberPicker__stepper--1yX4A"},g.createElement("span",{onClick:c?null:this.decrement},g.createElement(I.Icon,{name:"minus",className:"".concat("vr-traveler-input-picker-NumberPicker__control--ztiYv"," ").concat(c?"vr-traveler-input-picker-NumberPicker__disabledControl--3S7TH":"")})),g.createElement("input",{value:o?o():b(a),onChange:o?void 0:this.handleInputChange,readOnly:!!o}),g.createElement("span",{onClick:this.increment},g.createElement(I.Icon,{name:"plus",className:"vr-traveler-input-picker-NumberPicker__control--ztiYv"}))))}}]),t}(g.Component);f()(N,"defaultProps",{min:0,containerClassName:"",increment:1});var C=N,P={guestPicker:"vr-traveler-input-picker-GuestsInputPicker__guestPicker--3a5ZS",wrapper:"vr-traveler-input-picker-GuestsInputPicker__wrapper--PeSD1",tripSearchWrapper:"vr-traveler-input-picker-GuestsInputPicker__tripSearchWrapper--1y6mY",tripSearchInputFieldLabel:"vr-traveler-input-picker-GuestsInputPicker__tripSearchInputFieldLabel--JyL4S",tripSearchInputLabel:"vr-traveler-input-picker-GuestsInputPicker__tripSearchInputLabel--nrA6g",numberPicker:"vr-traveler-input-picker-GuestsInputPicker__numberPicker--pLNNV"},y=function e(t){return g.createElement(g.Fragment,null,g.createElement("div",{className:P.tripSearchWrapper},g.createElement("span",{className:"ui_icon friends picker-icon"}),g.createElement("div",null,g.createElement("div",{className:P.tripSearchInputFieldLabel},Object(k.localize)("hac_guests_label_ffffdfce")),g.createElement("div",{className:P.tripSearchInputLabel},function e(t){var n=t.adults,r=t.kids,a=[];return n&&a.push(Object(k.localize)("common_n_adults_declension",{0:n})),r&&a.push(Object(k.localize)("common_n_children_0",{0:r})),a.join(", ")}(t)))))},O=function e(t){var n=t.numberOfGuests;return g.createElement(g.Fragment,null,g.createElement("div",null,g.createElement("span",{className:"ui_icon friends picker-icon"})," ",Object(k.localize)("common_n_guests_248",{0:n})),g.createElement("span",{className:"ui_icon caret-down"}))},S=function(e){function t(e){var n;a()(this,t),n=i()(this,p()(t).call(this,e)),f()(v()(v()(n)),"onAdultsChange",function(e){n.setState({adults:e})}),f()(v()(v()(n)),"onChildrenChange",function(e){n.setState({kids:e})}),f()(v()(v()(n)),"getNumberOfGuests",function(){var e=0,t=n.props,r=t.kids,a=t.adults;return a&&(e+=a),r&&(e+=r),e}),f()(v()(v()(n)),"changeGuests",function(){var e=n.state,t=e.kids,r=e.adults;n.props.onGuestsChange({kids:t,adults:r})}),f()(v()(v()(n)),"pickerContent",function(e){return g.createElement("div",{className:P.guestPicker},g.createElement(C,{containerClassName:P.numberPicker,label:Object(k.localize)("plural_adults_da").toLowerCase(),value:n.state.adults,min:1,onChange:n.onAdultsChange}),g.createElement(C,{containerClassName:P.numberPicker,label:Object(k.localize)("common_children").toLowerCase(),value:n.state.kids,onChange:n.onChildrenChange}),g.createElement(E.a,{type:"primary",size:"fullwidth",onClick:function t(){e(),n.changeGuests()}},Object(k.localize)("airm_apply")))}),f()(v()(v()(n)),"guestDisplayTrigger",function(e,t){var r=n.getNumberOfGuests();return g.createElement("div",{className:"".concat(P.wrapper," ").concat(n.props.className?n.props.className:""),ref:e,onClick:function e(){t(),n.props.onOpen&&n.props.onOpen()}},n.props.tripSearch?g.createElement(y,{adults:n.state.adults,kids:n.state.kids}):g.createElement(O,{numberOfGuests:r}))});var r=e.kids,s=e.adults;return n.state={adults:s,kids:r},n}return d()(t,e),o()(t,[{key:"render",value:function e(){return g.createElement(D.LocalArrowOverlayWithName,{position:"below",alignEdge:"left",name:this.props.name,contents:this.pickerContent},this.guestDisplayTrigger)}}]),t}(g.Component);f()(S,"defaultProps",{kids:0});var w=S,T=function e(t){return g.createElement(g.Fragment,null,g.createElement("div",{className:P.tripSearchWrapper},g.createElement("span",{className:"ui_icon pet-friendly picker-icon"}),g.createElement("div",null,g.createElement("div",{className:P.tripSearchInputFieldLabel},Object(k.localize)("vr_common_pets_label")),g.createElement("div",{className:P.tripSearchInputLabel},function e(t){var n=t.cats,r=t.dogs;if(!n&&!r)return Object(k.localize)("ftl_no_pets");var a=[];return r&&a.push(Object(k.localize)("vr_common_n_dogs_declension",{0:r})),n&&a.push(Object(k.localize)("vr_common_cats_declension",{0:n})),a.join(", ")}(t)))))};T.defaultProps={cats:void 0,dogs:void 0};var G=function e(t){var n=t.petsEnum;return g.createElement(g.Fragment,null,g.createElement("div",null,g.createElement("span",{className:"ui_icon pet-friendly picker-icon"})," ",function e(t){switch(t){case"cats":return Object(k.localize)("vr_cats");case"dogs":return Object(k.localize)("vr_dogs");case"cats_and_dogs":return"Both";default:return Object(k.localize)("ftl_no_pets")}}(n)),g.createElement("span",{className:"ui_icon caret-down"}))},A=function(e){function t(e){var n;switch(a()(this,t),n=i()(this,p()(t).call(this,e)),f()(v()(v()(n)),"onCatChange",function(e){n.setState({cats:e})}),f()(v()(v()(n)),"onDogChange",function(e){n.setState({dogs:e})}),f()(v()(v()(n)),"getPetsEnum",function(){var e=n.state,t=e.cats,r=e.dogs;return t&&r?"cats_and_dogs":t?"cats":r?"dogs":"none"}),f()(v()(v()(n)),"getPetsCopy",function(){switch(n.props.petsEnum){case"cats":return Object(k.localize)("vr_cats");case"dogs":return Object(k.localize)("vr_dogs");case"cats_and_dogs":return"Both";default:return Object(k.localize)("ftl_no_pets")}}),f()(v()(v()(n)),"changePets",function(){n.props.onPetsChange(n.getPetsEnum())}),f()(v()(v()(n)),"displayTrigger",function(e,t){return g.createElement("div",{className:"".concat(P.wrapper," ").concat(n.props.className?n.props.className:""),ref:e,onClick:function e(){t(),n.props.onOpen&&n.props.onOpen()}},n.props.tripSearch?g.createElement(T,{dogs:n.state.dogs,cats:n.state.cats}):g.createElement(G,{petsEnum:n.getPetsEnum()}))}),f()(v()(v()(n)),"pickerContent",function(e){return g.createElement("div",{className:P.guestPicker},g.createElement(C,{containerClassName:P.numberPicker,label:Object(k.localize)("vr_common_dogs_plural"),value:n.state.dogs,onChange:n.onDogChange}),g.createElement(C,{containerClassName:P.numberPicker,label:Object(k.localize)("vr_common_cats_plural"),value:n.state.cats,onChange:n.onCatChange}),g.createElement(E.a,{type:"primary",size:"fullwidth",onClick:function t(){e(),n.changePets()}},Object(k.localize)("airm_apply")))}),e.petsEnum){case"cats":n.state={cats:1};break;case"dogs":n.state={dogs:1};break;case"cats_and_dogs":n.state={cats:1,dogs:1};break;default:n.state={}}return n}return d()(t,e),o()(t,[{key:"render",value:function e(){return g.createElement(D.LocalArrowOverlayWithName,{position:"below",alignEdge:"left",name:this.props.name,contents:this.pickerContent},this.displayTrigger)}}]),t}(g.Component),R=n("@babel/runtime/helpers/esm/extends"),L=n.n(R),V=n("@ta/overlays.managers"),j=n("@ta/common.classnames"),z=n.n(j),B=n("@ta/common.tracking"),W=n.n(B),F=function e(){W()({module:"VR",action:"VR_DatePickerUserInitiatedOpenCheckOut_VRR"})},M=function e(){W()({module:"VR",action:"VR_DatePickerUserInitiatedOpenCheckIn_VRR"})},Y=function e(){W()({module:"VR",action:"VR_DatePickerUserInitiatedOpenCheckOut_VRR"})},x=function e(){W()({module:"VR",action:"VR_DatePickerCheckIn_VRR"})},U=function e(){W()({module:"VR",action:"VR_DatePickerCheckOut_VRR"})},H=864e5,J=new Date,q=new Date(J.getFullYear(),J.getMonth(),J.getDate(),12),K=function e(t){var n={};return"PARTY_SIZE_INVALID"===t?n.guests=!0:"DATE_RANGE_UNAVAILABLE"===t||"MIN_STAY_VIOLATION"===t?(n.startDate=!0,n.endDate=!0):"TURNOVER_VIOLATION"===t?n.startDate=!0:"CHECKOUT_DAY_VIOLATION"===t?n.endDate=!0:"NO_DATES"===t?(n.startDate=!0,n.endDate=!0):"NO_SAME_DAY_CHECK_IN"===t&&(n.startDate=!0),n};function Z(e,t){var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((r-n)/H)}var $=function e(t,n){var r=Z(new Date(n.startDate),t);return n.bookedBits[r]},Q=function e(t,n){return new Date(t.getFullYear(),t.getMonth()+1+n,t.getDay())},X=function e(t,n){return Z(t,n)>0},ee=Q(q,18),te=function e(t,n){return t.getTime()<q.getTime()||X(ee,t)||n&&n.getTime()<q.getTime()||n&&X(ee,n)},ne={container:"vr-traveler-input-picker-TravelerInputsPicker__container--3NyPp",icon:"vr-traveler-input-picker-TravelerInputsPicker__icon--2jgJx",input:"vr-traveler-input-picker-TravelerInputsPicker__input--2tzzB",largeInput:"vr-traveler-input-picker-TravelerInputsPicker__largeInput--1tsVh",guestPicker:"vr-traveler-input-picker-TravelerInputsPicker__guestPicker--3x2Tq",petInput:"vr-traveler-input-picker-TravelerInputsPicker__petInput--S1aB4",largeInputWrapperStart:"vr-traveler-input-picker-TravelerInputsPicker__largeInputWrapperStart--2F6uV",largeInputWrapperEnd:"vr-traveler-input-picker-TravelerInputsPicker__largeInputWrapperEnd--2qxX7",largeInputFieldLabel:"vr-traveler-input-picker-TravelerInputsPicker__largeInputFieldLabel--1_wIJ",largeInputLabel:"vr-traveler-input-picker-TravelerInputsPicker__largeInputLabel--1bQww",inputError:"vr-traveler-input-picker-TravelerInputsPicker__inputError--1HOJW"},re=0,ae=function e(){var t=function e(){return re+=1}().toString();return{startDateName:"vr-traveler-inputs-start-date-".concat(t),endDateName:"vr-traveler-inputs-end-date-".concat(t),guestInputName:"vr-traveler-inputs-guests-".concat(t),petsInputName:"vr-traveler-inputs-pets-".concat(t)}},se=function e(t){var n=t.target,r=t.error,a=t.isCheckIn,s=t.date,o=t.onClick;return g.createElement("div",{ref:n,className:"".concat(r?ne.inputError:""," ").concat(ne.largeInput),onClick:o},g.createElement("div",{className:a?ne.largeInputWrapperStart:ne.largeInputWrapperEnd},g.createElement("span",{className:"ui_icon calendar ".concat(ne.icon)}),g.createElement("div",null,g.createElement("div",{className:ne.largeInputFieldLabel},a?Object(k.localize)("vr_checkin_ffffdd04"):Object(k.localize)("vr_checkout_ffffdd04")),g.createElement("div",{className:ne.largeInputLabel},s?k.globalize.formatDate("date_short_v2",s):"— / — / —"))))};se.defaultProps={error:!1};var oe=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=i()(this,(e=p()(t)).call.apply(e,[this].concat(s))),f()(v()(v()(n)),"onStartDayClick",function(e){var t=n.props.endDate;te(e,t)||(t&&Z(t,e)>=0&&(t=null),n.props.onInputsChange({startDate:e,endDate:t}),n.props.withTracking&&x(),n.props.closeStart(),t||setTimeout(function(){n.props.openEnd()},300))}),f()(v()(v()(n)),"onEndDayClick",function(e){var t=n.props.startDate;te(e,t)||(t&&Z(e,t)>=0&&(t=null),n.props.onInputsChange({startDate:t,endDate:e}),n.props.withTracking&&U(),n.props.closeEnd(),t||setTimeout(function(){n.props.openStart()},300))}),f()(v()(v()(n)),"onPetsChange",function(e){n.props.onInputsChange({pets:e})}),f()(v()(v()(n)),"onGuestInputOpen",function(){n.props.closeStart(),n.props.closeEnd(),n.props.closePets&&n.props.closePets()}),f()(v()(v()(n)),"onPetInputOpen",function(){n.props.closeStart(),n.props.closeEnd(),n.props.closeGuests()}),f()(v()(v()(n)),"onStartDateInputOpen",function(){n.props.openStart(),n.props.closeEnd(),n.props.closeGuests(),n.props.withTracking&&M(),n.props.closePets&&n.props.closePets()}),f()(v()(v()(n)),"onEndDateInputOpen",function(){n.props.openEnd(),n.props.closeStart(),n.props.closeGuests(),n.props.withTracking&&Y(),n.props.closePets&&n.props.closePets()}),f()(v()(v()(n)),"onGuestsChange",function(e){n.props.withTracking&&F(),n.props.onInputsChange(e)}),f()(v()(v()(n)),"getTravelerInputsError",function(){var e=n.props.errorReason;return e?K(e):{}}),f()(v()(v()(n)),"getCalendarDayModifiers",function(){var e,t=n.props,r=t.startDate,a=t.endDate;return r&&a&&(e={from:r,to:a}),{start:r,end:a,selected:e,blocked:n.isDayBlocked}}),f()(v()(v()(n)),"getDayPickerProps",function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=n.props,r=t.startDate,a=t.endDate;return{numberOfMonths:t.numberOfMonths,disabledDays:{before:q,after:ee},fromMonth:q,modifiers:n.getCalendarDayModifiers(),initialMonth:(e?r:a)||(e?a:r)||q}}),f()(v()(v()(n)),"handleScroll",function(){n.props.closeStart(),n.props.closeEnd(),n.props.closeGuests(),n.props.closePets&&n.props.closePets()}),f()(v()(v()(n)),"isDayBlocked",function(e){return!(e.getTime()<=q.getTime())&&!!n.props.calendarData&&$(e,n.props.calendarData)}),f()(v()(v()(n)),"renderStartDayPicker",function(){var e=Object.assign({},n.getDayPickerProps(),{onDayClick:n.onStartDayClick});return n.props.tripSearch?g.createElement(D.LargeDayPickerWrapper,e):g.createElement(D.DayPickerWrapper,e)}),f()(v()(v()(n)),"renderEndDayPicker",function(){var e=Object.assign({},n.getDayPickerProps(!1),{onDayClick:n.onEndDayClick});return n.props.tripSearch?g.createElement(D.LargeDayPickerWrapper,L()({},e,{isCheckOut:!0})):g.createElement(D.DayPickerWrapper,e)}),f()(v()(v()(n)),"renderStartDateInputContents",function(e){var t=n.props,r=t.startDate;if(t.tripSearch)return n.renderStartDateInputLargeContent(e);var a=n.getTravelerInputsError().startDate;return g.createElement("div",{ref:e,className:"".concat(ne.input," ").concat(a?ne.inputError:""),onClick:n.onStartDateInputOpen},g.createElement("span",{className:"ui_icon calendar ".concat(ne.icon)})," ",r?k.globalize.formatDate("date_short_v2",r):Object(k.localize)("vr_checkin_ffffdd04"))}),f()(v()(v()(n)),"renderStartDateInputLargeContent",function(e){var t=n.props.startDate,r=n.getTravelerInputsError().startDate;return g.createElement(se,{target:e,error:r,isCheckIn:!0,date:t,onClick:n.onStartDateInputOpen})}),f()(v()(v()(n)),"renderEndDateInputContents",function(e){var t=n.props,r=t.endDate;if(t.tripSearch)return n.renderEndDateInputLargeContents(e);var a=n.getTravelerInputsError().endDate;return g.createElement("div",{ref:e,className:"".concat(ne.input," ").concat(a?ne.inputError:""),onClick:n.onEndDateInputOpen},g.createElement("span",{className:"ui_icon calendar ".concat(ne.icon)})," ",r?k.globalize.formatDate("date_short_v2",r):Object(k.localize)("vr_checkout_ffffdd04"))}),f()(v()(v()(n)),"renderEndDateInputLargeContents",function(e){var t=n.props.endDate,r=n.getTravelerInputsError().endDate;return g.createElement(se,{target:e,error:r,isCheckIn:!1,date:t,onClick:n.onEndDateInputOpen})}),n}return d()(t,e),o()(t,[{key:"componentDidMount",value:function e(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("scroll",this.handleScroll)}},{key:"renderStartDateInput",value:function e(){var t=this.props,n=t.startDateName,r=t.startDateOverlayAlignEdge;return null!=n?g.createElement(D.LocalArrowOverlayWithName,{position:"below",alignEdge:r,name:n,contents:this.renderStartDayPicker},this.renderStartDateInputContents):null}},{key:"renderEndDateInput",value:function e(){var t=this.props,n=t.endDateName,r=t.endDateOverlayAlignEdge;return g.createElement(D.LocalArrowOverlayWithName,{position:"below",alignEdge:r,name:n,contents:this.renderEndDayPicker},this.renderEndDateInputContents)}},{key:"renderGuestsPicker",value:function e(){var t=this.getTravelerInputsError().guests,n=z()(ne.guestPicker,t&&ne.inputError);return g.createElement(w,{adults:this.props.adults,kids:this.props.kids,onGuestsChange:this.props.onInputsChange,name:this.props.guestInputName,onOpen:this.onGuestInputOpen,className:n,tripSearch:this.props.tripSearch})}},{key:"render",value:function e(){var t=this.props,n=t.includePetsFilter,r=t.petsInputName,a=t.setTarget;return g.createElement("div",{className:ne.container,ref:a},this.renderStartDateInput(),this.renderEndDateInput(),this.renderGuestsPicker(),n&&r?g.createElement(A,{onPetsChange:this.onPetsChange,petsEnum:this.props.pets,name:r,className:ne.petInput,onOpen:this.onPetInputOpen,tripSearch:this.props.tripSearch}):null)}}]),t}(g.Component);f()(oe,"defaultProps",{includePetsFilter:!1,numberOfMonths:2,withTracking:!1,startDateOverlayAlignEdge:"left",endDateOverlayAlignEdge:"right"});var ce=function(e){function t(e){var n;a()(this,t),n=i()(this,p()(t).call(this,e)),f()(v()(v()(n)),"startDateName",void 0),f()(v()(v()(n)),"endDateName",void 0),f()(v()(v()(n)),"guestInputName",void 0),f()(v()(v()(n)),"petsInputName",void 0);var r=ae(),s=r.startDateName,o=r.endDateName,c=r.guestInputName,l=r.petsInputName;return n.startDateName=s,n.endDateName=o,n.guestInputName=c,n.petsInputName=l,n}return d()(t,e),o()(t,[{key:"renderWithPetsFilter",value:function e(){var t=this;return g.createElement(V.Opener,{local:!0,name:this.petsInputName},function(e){return g.createElement(V.Closer,{local:!0,name:t.petsInputName},function(n){return g.createElement(V.Opener,{local:!0,name:t.guestInputName},function(r){return g.createElement(V.Closer,{local:!0,name:t.guestInputName},function(a){return g.createElement(V.Opener,{local:!0,name:t.startDateName},function(s){return g.createElement(V.Opener,{local:!0,name:t.endDateName},function(o){return g.createElement(V.Closer,{local:!0,name:t.startDateName},function(c){return g.createElement(V.Closer,{local:!0,name:t.endDateName},function(i){return g.createElement(oe,L()({},t.props,{closeStart:c,closeEnd:i,openStart:s,openEnd:o,openGuests:r,closeGuests:a,openPets:e,closePets:n,startDateName:t.startDateName,endDateName:t.endDateName,guestInputName:t.guestInputName,petsInputName:t.petsInputName}))})})})})})})})})}},{key:"render",value:function e(){var t=this;return this.props.includePetsFilter?this.renderWithPetsFilter():g.createElement(V.Opener,{local:!0,name:this.guestInputName},function(e){return g.createElement(V.Closer,{local:!0,name:t.guestInputName},function(n){return g.createElement(V.Opener,{local:!0,name:t.startDateName},function(r){return g.createElement(V.Opener,{local:!0,name:t.endDateName},function(a){return g.createElement(V.Closer,{local:!0,name:t.startDateName},function(s){return g.createElement(V.Closer,{local:!0,name:t.endDateName},function(o){return g.createElement(oe,L()({},t.props,{closeStart:s,closeEnd:o,openStart:r,openEnd:a,openGuests:e,closeGuests:n,startDateName:t.startDateName,endDateName:t.endDateName,guestInputName:t.guestInputName}))})})})})})})}}]),t}(g.Component),ie=function e(t){var n=t.target,r=t.isCheckIn,a=t.date,s=t.onClick,o=t.showIcon;return g.createElement("div",{ref:n,className:"vr-traveler-input-picker-SearchDateInputContent__largeInput--2e1qW",onClick:s},g.createElement("div",{className:r?"vr-traveler-input-picker-SearchDateInputContent__largeInputWrapperStart--DKRvL":"vr-traveler-input-picker-SearchDateInputContent__largeInputWrapperEnd---gHA6"},o?g.createElement("span",{className:"ui_icon calendar ".concat("vr-traveler-input-picker-SearchDateInputContent__icon--1VPLB")}):null,g.createElement("div",null,g.createElement("div",{className:"vr-traveler-input-picker-SearchDateInputContent__largeInputFieldLabel--ZyskE"},r?Object(k.localize)("vr_checkin_ffffdd04"):Object(k.localize)("vr_checkout_ffffdd04")),g.createElement("div",{className:"vr-traveler-input-picker-SearchDateInputContent__largeInputLabel--14jPN"},a?k.globalize.formatDate("date_short_v2",a):"— / — / —"))))};ie.defaultProps={error:!1,showIcon:!0};var le=ie,pe=function e(){var t=this;a()(this,e),f()(this,"count",void 0),f()(this,"getCount",function(){return t.count+=1,t.count}),this.count=0},ue=n("@babel/runtime/helpers/esm/objectSpread"),de=n.n(ue),me=n("react-redux"),ve="vr-traveler-input-picker-GuestsAndBedsDisplay__inputLabel--1CzKc",he="vr-traveler-input-picker-GuestsAndBedsDisplay__inputIcon--JyFwk",fe=function e(t){return g.createElement("div",{className:"vr-traveler-input-picker-GuestsAndBedsDisplay__largeDisplayWrapper--eEVYH"},g.createElement("span",{className:"".concat(he," ui_icon friends picker-icon")}),g.createElement("div",null,g.createElement("div",{className:"vr-traveler-input-picker-GuestsAndBedsDisplay__inputFieldLabel--3u14t"},Object(k.localize)("hac_guests_label_ffffdfce")),g.createElement("div",{className:ve},Object(k.localize)("common_n_rooms_declension",{0:"".concat(t.bedrooms,"+")}).toLowerCase(),", ",Object(k.localize)("ftl_adults_number",{0:"".concat(t.adults,"+")}).toLowerCase())))},ge=function e(t){return t<0?"0+":t<10?"".concat(t,"+"):"".concat(t)},ke=function e(t){return g.createElement("div",{className:"vr-traveler-input-picker-GuestsAndBedsDisplay__smallDisplayWrapper--1ANJJ"},g.createElement("div",{className:"vr-traveler-input-picker-GuestsAndBedsDisplay__inputFieldLabel--3u14t"},Object(k.localize)("hac_guests_label_ffffdfce")),g.createElement("div",{className:"vr-traveler-input-picker-GuestsAndBedsDisplay__smallDisplayIconsWrapper--3npHZ"},g.createElement("div",{className:"vr-traveler-input-picker-GuestsAndBedsDisplay__smallDisplayGroup--1L0pi"},g.createElement("span",{className:"".concat(he," ui_icon hotels picker-icon")}),g.createElement("div",{className:ve},ge(t.bedrooms))),g.createElement("div",{className:"vr-traveler-input-picker-GuestsAndBedsDisplay__smallDisplayGroup--1L0pi"},g.createElement("span",{className:"".concat(he," ui_icon friends picker-icon")}),g.createElement("div",{className:ve},ge(t.adults)))))},De={pickerWrapper:"vr-traveler-input-picker-GuestsBedsAndBathRoomsPicker__pickerWrapper--3l-ri",wrapper:"vr-traveler-input-picker-GuestsBedsAndBathRoomsPicker__wrapper--mcp7a",inputRowWrapper:"vr-traveler-input-picker-GuestsBedsAndBathRoomsPicker__inputRowWrapper--1mc74"},_e=function(e){function t(e){var n;a()(this,t),n=i()(this,p()(t).call(this,e)),f()(v()(v()(n)),"onAdultsChange",function(e){n.setState({adults:e})}),f()(v()(v()(n)),"onBathroomsChange",function(e){n.setState({bathrooms:e})}),f()(v()(v()(n)),"onBedroomsChange",function(e){n.setState({bedrooms:e})}),f()(v()(v()(n)),"updateGuestInfo",function(){var e=n.props,t=e.bedrooms,r=e.bathrooms,a=e.adults;n.setState({bedrooms:t,bathrooms:r,adults:a})}),f()(v()(v()(n)),"changeGuests",function(){var e=n.state,t=e.bathrooms,r=e.bedrooms,a=e.adults;n.props.onChange({bathrooms:t,bedrooms:r,adults:a})}),f()(v()(v()(n)),"pickerContent",function(e){return g.createElement("div",{className:De.pickerWrapper},g.createElement("div",{className:De.inputRowWrapper},g.createElement("span",{className:"ui_icon hotels"}),g.createElement(C,{label:Object(k.localize)("vacation_rental_bedrooms_criteria"),value:n.state.bedrooms,onChange:n.onBedroomsChange,renderInputValue:function e(){return"".concat(n.state.bedrooms,"+")}})),g.createElement("div",{className:De.inputRowWrapper},g.createElement("span",{className:"ui_icon friends"}),g.createElement(C,{label:Object(k.localize)("plural_guests_da"),value:n.state.adults,min:1,onChange:n.onAdultsChange,renderInputValue:function e(){return"".concat(n.state.adults,"+")}})),g.createElement("div",{className:De.inputRowWrapper},g.createElement("span",{className:"ui_icon bathroom-fill"}),g.createElement(C,{label:Object(k.localize)("location_field_bathrooms"),value:n.state.bathrooms,onChange:n.onBathroomsChange,renderInputValue:function e(){return"".concat(n.state.bathrooms,"+")}})),g.createElement(E.a,{type:"primary",size:"fullwidth",onClick:function t(){e(),n.changeGuests()}},Object(k.localize)("airm_apply")))}),f()(v()(v()(n)),"displayTrigger",function(e,t){var r=n.state,a=r.bedrooms,s=r.adults;return g.createElement("div",{className:De.wrapper,ref:e,onClick:function e(){t(),n.props.onOpen&&n.props.onOpen()}},n.props.small?g.createElement(ke,{bedrooms:a,adults:s}):g.createElement(fe,{bedrooms:a,adults:s}))});var r=e.bathrooms,s=e.bedrooms,o=e.adults;return n.state={bathrooms:r,bedrooms:s,adults:o},n}return d()(t,e),o()(t,[{key:"componentDidUpdate",value:function e(t){var n=t.bedrooms,r=t.bathrooms,a=t.adults,s=this.props,o=s.bedrooms,c=s.bathrooms,i=s.adults;n===o&&r===c&&a===i||this.updateGuestInfo()}},{key:"render",value:function e(){return g.createElement(D.LocalArrowOverlayWithName,{position:"below",alignEdge:"right",name:this.props.name,contents:this.pickerContent},this.displayTrigger)}}]),t}(g.Component);f()(_e,"defaultProps",{});var Ee=_e,Ie=function e(){W()({module:"VR",action:"VR_BedBathGuestsOpen_VR"})},be=function e(){W()({module:"VR",action:"VR_DatePickerUserInitiatedOpenCheckIn_VR"})},Ne=function e(){W()({module:"VR",action:"VR_DatePickerUserInitiatedOpenCheckOut_VR"})},Ce=function e(){W()({module:"VR",action:"VR_DatePickerCheckIn_VR"})},Pe=function e(){W()({module:"VR",action:"VR_DatePickerCheckOut_VR"})},ye=function e(){W()({module:"VR",action:"VR_BedBathGuestsApply_VRR"})},Oe=new pe,Se=300,we=function e(){var t=Oe.getCount().toString();return{startDateName:"vr-srp-traveler-inputs-start-date-".concat(t),endDateName:"vr-srp-traveler-inputs-end-date-".concat(t),guestInputName:"vr-srp-traveler-inputs-guests-".concat(t)}},Te=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=i()(this,(e=p()(t)).call.apply(e,[this].concat(s))),f()(v()(v()(n)),"onStartDayClick",function(e){var t=n.props.endDate;te(e,t)||(t&&Z(t,e)>=0&&(t=null),n.props.onInputsChange({startDate:e,endDate:t}),n.props.withTracking&&Ce(),n.props.closeStart(),t||setTimeout(function(){n.props.openEnd()},Se))}),f()(v()(v()(n)),"onEndDayClick",function(e){var t=n.props.startDate;te(e,t)||(t&&Z(e,t)>=0&&(t=null),n.props.onInputsChange({startDate:t,endDate:e}),n.props.withTracking&&Pe(),n.props.closeEnd(),t||setTimeout(function(){n.props.openStart()},Se))}),f()(v()(v()(n)),"onGuestsBedAndBathroomInputOpen",function(){n.props.closeStart(),n.props.closeEnd(),n.props.withTracking&&Ie()}),f()(v()(v()(n)),"onStartDateInputOpen",function(){n.props.openStart(),n.props.closeEnd(),n.props.closeGuests(),n.props.withTracking&&be()}),f()(v()(v()(n)),"onEndDateInputOpen",function(){n.props.openEnd(),n.props.closeStart(),n.props.closeGuests(),n.props.withTracking&&Ne()}),f()(v()(v()(n)),"onGuestsBedsOrBathroomChange",function(e){n.props.withTracking&&ye(),n.props.onInputsChange(e)}),f()(v()(v()(n)),"getCalendarDayModifiers",function(){var e,t=n.props,r=t.startDate,a=t.endDate;return r&&a&&(e={from:r,to:a}),{start:r,end:a,selected:e,blocked:n.isDayBlocked}}),f()(v()(v()(n)),"getDayPickerProps",function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=n.props,r=t.startDate,a=t.endDate;return{numberOfMonths:t.numberOfMonths,disabledDays:{before:q,after:ee},fromMonth:q,modifiers:n.getCalendarDayModifiers(),initialMonth:(e?r:a)||(e?a:r)||q}}),f()(v()(v()(n)),"handleScroll",function(){n.props.closeStart(),n.props.closeEnd(),n.props.closeGuests()}),f()(v()(v()(n)),"isDayBlocked",function(e){return!!n.props.isDayBlocked&&n.props.isDayBlocked(e)}),f()(v()(v()(n)),"showDateIcons",function(){return"MOBILE"!==n.props.viewportCategory}),f()(v()(v()(n)),"renderStartDayPicker",function(){var e=Object.assign({},n.getDayPickerProps(),{onDayClick:n.onStartDayClick});return g.createElement(D.LargeDayPickerWrapper,e)}),f()(v()(v()(n)),"renderEndDayPicker",function(){var e=Object.assign({},n.getDayPickerProps(!1),{onDayClick:n.onEndDayClick});return g.createElement(D.LargeDayPickerWrapper,L()({},e,{isCheckOut:!0}))}),f()(v()(v()(n)),"renderStartDateInputContents",function(e){var t=n.props.startDate;return g.createElement(le,{target:e,isCheckIn:!0,date:t,onClick:n.onStartDateInputOpen,showIcon:n.showDateIcons()})}),f()(v()(v()(n)),"renderEndDateInputContents",function(e){var t=n.props.endDate;return g.createElement(le,{target:e,isCheckIn:!1,date:t,onClick:n.onEndDateInputOpen,showIcon:n.showDateIcons()})}),n}return d()(t,e),o()(t,[{key:"componentDidMount",value:function e(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("scroll",this.handleScroll)}},{key:"renderStartDateInput",value:function e(){var t=this.props,n=t.startDateName,r=t.startDateOverlayAlignEdge;return!!n&&g.createElement(D.LocalArrowOverlayWithName,{position:"below",alignEdge:r,name:n,contents:this.renderStartDayPicker},this.renderStartDateInputContents)}},{key:"renderEndDateInput",value:function e(){var t=this.props,n=t.endDateName,r=t.endDateOverlayAlignEdge;return g.createElement(D.LocalArrowOverlayWithName,{position:"below",alignEdge:r,name:n,contents:this.renderEndDayPicker},this.renderEndDateInputContents)}},{key:"renderGuestsPicker",value:function e(){var t="MOBILE"===this.props.viewportCategory;return g.createElement("div",{className:"vr-traveler-input-picker-SRPPicker__guestInputWrapper--3fGws"},g.createElement(Ee,{adults:this.props.adults,bedrooms:this.props.bedrooms,bathrooms:this.props.bathrooms,onChange:this.onGuestsBedsOrBathroomChange,name:this.props.guestInputName,onOpen:this.onGuestsBedAndBathroomInputOpen,small:t}))}},{key:"render",value:function e(){var t=this.props.setTarget;return g.createElement("div",{className:"vr-traveler-input-picker-SRPPicker__container--3Qvbj",ref:t},this.renderStartDateInput(),this.renderEndDateInput(),this.renderGuestsPicker())}}]),t}(g.Component);f()(Te,"defaultProps",{numberOfMonths:2,withTracking:!1,adults:2,bathrooms:1,bedrooms:1});var Ge=function(e){function t(e){var n;a()(this,t),n=i()(this,p()(t).call(this,e)),f()(v()(v()(n)),"startDateName",void 0),f()(v()(v()(n)),"endDateName",void 0),f()(v()(v()(n)),"guestInputName",void 0);var r=we(),s=r.startDateName,o=r.endDateName,c=r.guestInputName;return n.startDateName=s,n.endDateName=o,n.guestInputName=c,n}return d()(t,e),o()(t,[{key:"render",value:function e(){var t=this;return g.createElement(V.Opener,{local:!0,name:this.guestInputName},function(e){return g.createElement(V.Closer,{local:!0,name:t.guestInputName},function(n){return g.createElement(V.Opener,{local:!0,name:t.startDateName},function(r){return g.createElement(V.Opener,{local:!0,name:t.endDateName},function(a){return g.createElement(V.Closer,{local:!0,name:t.startDateName},function(s){return g.createElement(V.Closer,{local:!0,name:t.endDateName},function(o){return g.createElement(Te,L()({},t.props,{closeStart:s,closeEnd:o,openStart:r,openEnd:a,openGuests:e,closeGuests:n,startDateName:t.startDateName,endDateName:t.endDateName,guestInputName:t.guestInputName}))})})})})})})}}]),t}(g.Component),Ae=Object(me.connect)(function(e,t){return de()({viewportCategory:e.meta.device.viewportCategory},t)})(Ge);n.d(t,"GuestsInputPicker",function(){return w}),n.d(t,"PetsPickers",function(){return A}),n.d(t,"TravelerInputsPicker",function(){return ce}),n.d(t,"SearchDateInputsPicker",function(){return le}),n.d(t,"Counter",function(){return pe}),n.d(t,"SRPTravelerInputsPicker",function(){return Ae}),n.d(t,"datesFallOutsideValidRange",function(){return te}),n.d(t,"dateDiffInDays",function(){return Z}),n.d(t,"addMonthsToDate",function(){return Q}),n.d(t,"FINAL_DAY",function(){return ee}),n.d(t,"TODAY",function(){return q})}}});
//# sourceMappingURL=vr.traveler-input-picker.d654435a55.js.map